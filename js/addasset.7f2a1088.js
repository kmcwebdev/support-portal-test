(self["webpackChunkvue3_ts_template"]=self["webpackChunkvue3_ts_template"]||[]).push([[5627],{5307:function(e,t,l){const{createElementVNode:a,openBlock:s,createElementBlock:i}=l(9812);e.exports=function(e,t){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])}},7064:function(e,t,l){"use strict";l.d(t,{Z:function(){return w}});var a=l(6252),s=l(2262),i=l(3577),n=l(452),r=l(2115);const u=(0,a._)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),o={class:"fixed inset-0 z-10 overflow-y-auto"},d={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},c={key:0,class:"sm:flex sm:items-start"},m={class:"text-center sm:mt-0 sm:text-left"},p={key:1,class:"sm:flex sm:flex-row-reverse space-x-2 gap-2 mt-3"},f=(0,a.Uk)(" Cancel ");var v=(0,a.aZ)({__name:"Dialog",props:{show:{type:Boolean,required:!0},title:{type:String},width:{type:String,default:"500px",required:!0},actionBar:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},submitLabel:{type:String,default:"Submit"},submitType:{type:String,default:"primary"},submitDisabled:{type:Boolean,default:!1}},emits:["close","submit"],setup(e,{emit:t}){const l=(0,s.iH)(!1);return(0,a.bv)((()=>{l.value=!0})),(l,v)=>{const y=(0,a.up)("el-button");return(0,a.wg)(),(0,a.j4)((0,s.SU)(n.Q),{as:"template",show:e.show},{default:(0,a.w5)((()=>[(0,a.Wm)((0,s.SU)(r.Vq),{as:"div",class:"relative z-10",onClose:v[2]||(v[2]=e=>t("close"))},{default:(0,a.w5)((()=>[(0,a.Wm)((0,s.SU)(n.x),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,a.w5)((()=>[u])),_:1}),(0,a._)("div",o,[(0,a._)("div",d,[(0,a.Wm)((0,s.SU)(n.x),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,s.SU)(r.EM),{class:(0,i.C_)("relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 w-full sm:p-6 mb-[64px] md:mb-0"),style:(0,i.j5)(`width: ${e.width}`)},{default:(0,a.w5)((()=>[e.title?((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",m,[(0,a.Wm)((0,s.SU)(r.$N),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.title),1)])),_:1})])])):(0,a.kq)("",!0),(0,a.WI)(l.$slots,"default"),e.actionBar?((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",null,[(0,a.Wm)(y,{type:e.submitType,loading:e.loading,disabled:e.submitDisabled,size:"large",class:"mt-3 inline-flex w-full justify-center rounded-md sm:mt-0 sm:w-auto",onClick:v[0]||(v[0]=e=>t("submit"))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.submitLabel),1)])),_:1},8,["type","loading","disabled"])]),(0,a._)("div",null,[(0,a.Wm)(y,{type:"button",size:"large",class:"mt-3 inline-flex w-full justify-center rounded-md sm:mt-0 sm:w-auto",onClick:v[1]||(v[1]=e=>t("close")),ref:"cancelButtonRef"},{default:(0,a.w5)((()=>[f])),_:1},512)])])):(0,a.kq)("",!0)])),_:3},8,["style"])])),_:3})])])])),_:3})])),_:3},8,["show"])}}});const y=v;var w=y},2625:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return R}});var a=l(6252),s=l(2262),i=l(3577),n=l(963),r=l(7027),u=l(9274),o=l(4949),d=l(3824),c=l(9737),m=l(2201),p=l(2066),f=l(7064),v=l(5307),y=l(2115);const w={class:"flex flex-col md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"},g={key:0},h={class:"mt-3 grid grid-cols-12 gap-x-3 py-3"},b=["for"],x={key:0,class:"text-red-500"},_={class:"text-xs mt-1 text-gray-700"},k=["innerHTML"],U={class:"mt-4 py-4 flex sm:px-4 w-full"},S=(0,a.Uk)(" Cancel "),W=(0,a.Uk)(" Submit "),D={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"},C={class:"mt-3 text-center sm:mt-5"},z=(0,a.Uk)("Errors"),H={class:"mt-2 w"},Z={role:"list",class:"-my-5 divide-y divide-gray-200"},q={class:"relative"},B={class:"text-sm font-semibold text-left text-gray-800"},N={href:"#",class:"hover:underline focus:outline-none"},j=(0,a._)("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),T={class:"text-left mt-1 text-sm text-gray-600 line-clamp-2"},E={class:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"},A=(0,a.Uk)("Continue");var F=(0,a.aZ)({__name:"EditForm",setup(e){const t=(0,s.iH)(null),l=(0,s.iH)(!1),F=(0,s.iH)(!1),Y=(0,s.iH)([]),$=(0,m.yj)(),I=(0,a.Fl)((()=>$.meta.navName)),L=(0,a.Fl)((()=>$.query.action)),M=(0,a.Fl)((()=>u.h.getters.bucket)),V=(0,a.Fl)((()=>u.h.getters.nonITBucket));async function K(){if(L.value||t.value?.validate().then((async()=>{"it-assets"==I.value&&(l.value=!0,await o.c.createAsset(n.cr.value).then((e=>{d.Z.push({name:"asset-details",params:{id:e.record}}),l.value=!1})).catch((()=>{l.value=!1}))),"non-it-assets"==I.value&&(l.value=!0,await o.c.createNonITAsset(n.cr.value).then((e=>{d.Z.push({name:"non-it-asset-details",params:{id:e.record}}),l.value=!1})).catch((()=>{l.value=!1})))})),"multiple"==L.value){if("it-assets"==I.value){if(0==M.value.length)return void c.T.alert("Empty bucket");const e=[];M.value.map((t=>{e.push(t.assetsid)})),l.value=!0,await o.c.batchUpdateAsset(n.cr.value,e).then((e=>{e.errors.length>0?(F.value=!0,Y.value=e.errors):d.Z.push({name:"asset-lists",query:{view:"bucket"}}),l.value=!1})).catch((()=>{l.value=!1}))}if("non-it-assets"==I.value){if(0==V.value.length)return void c.T.alert("Empty bucket");const e=[];V.value.map((t=>{e.push(t.customersuccessid)})),l.value=!0,await o.c.batchUpdateNonITAsset(n.cr.value,e).then((e=>{e.errors.length>0?(F.value=!0,Y.value=e.errors):d.Z.push({name:"non-it-asset-lists",query:{view:"bucket"}}),l.value=!1})).catch((()=>{l.value=!1}))}}}function R(){"it-assets"==I.value&&d.Z.push({name:"asset-lists"}),"non-it-assets"==I.value&&d.Z.push({name:"non-it-asset-lists"})}return(e,u)=>{const o=(0,a.up)("el-form-item"),d=(0,a.up)("el-button"),c=(0,a.up)("el-affix"),m=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",w,[(0,a.Wm)(m,{class:"divide-y divide-gray-200 overflow-hidden",model:{...(0,s.SU)(n.cr)},ref_key:"editForm",ref:t},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(n.Fh).blocks,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:t},[(0,s.SU)(n.VN)(e.blockid).length>0?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(n.VN)(e.blockid),((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,i.C_)(`col-span-12 sm:col-span-${e.span}`)},["fields"==e.type?((0,a.wg)(),(0,a.j4)(o,{key:0,prop:(0,s.SU)(n.WJ)(e),rules:(0,s.SU)(n.$c)(e)},{default:(0,a.w5)((()=>[(0,a._)("label",{for:e.fieldname,class:"block text-md font-bold text-gray-700 font-karla line-height-24"},[(0,a.Uk)((0,i.zw)(e.fieldlabel)+" ",1),(0,s.SU)(r.b3)(e)?((0,a.wg)(),(0,a.iD)("span",x,"Â *")):(0,a.kq)("",!0)],8,b),(0,a.Wm)(p.Z,{size:"large",uitype:e.uitype,fieldname:e.fieldname,relation:e.relation,value:(0,s.SU)(n.cr)[(0,s.SU)(n.cx)(e.fieldname)],"fetch-users":!0},null,8,["uitype","fieldname","relation","value"]),(0,a._)("p",_,(0,i.zw)(e.fieldsublabel),1)])),_:2},1032,["prop","rules"])):(0,a.kq)("",!0),"element"==e.type?((0,a.wg)(),(0,a.iD)("div",{key:1,class:"py-2",innerHTML:e.content},null,8,k)):(0,a.kq)("",!0)],2)))),128))])])):(0,a.kq)("",!0)],64)))),128)),(0,a.Wm)(c,{position:"bottom",offset:64},{default:(0,a.w5)((()=>[(0,a._)("div",U,[(0,a.Wm)(d,{type:"primary",plain:"",onClick:R,class:"bg-red-500 w-full"},{default:(0,a.w5)((()=>[S])),_:1}),(0,a.Wm)(d,{class:"bg-red-500 w-full",loading:l.value,type:"primary",onClick:K},{default:(0,a.w5)((()=>[W])),_:1},8,["loading"])])])),_:1})])),_:1},8,["model"])]),(0,a.Wm)(f.Z,{show:F.value,onClose:u[1]||(u[1]=e=>F.value=!1)},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",D,[(0,a.Wm)((0,s.SU)(v),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),(0,a._)("div",C,[(0,a.Wm)((0,s.SU)(y.$N),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:(0,a.w5)((()=>[z])),_:1}),(0,a._)("div",H,[(0,a._)("ul",Z,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Y.value,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"py-5",key:t},[(0,a._)("div",q,[(0,a._)("h3",B,[(0,a._)("a",N,[j,(0,a.Uk)(" "+(0,i.zw)(e.recordId),1)])]),(0,a._)("p",T,(0,i.zw)(e.error),1)])])))),128))])])])]),(0,a._)("div",E,[(0,a.Wm)(d,{type:"primary",class:"w-full",onClick:u[0]||(u[0]=e=>F.value=!1)},{default:(0,a.w5)((()=>[A])),_:1})])])),_:1},8,["show"])],64)}}});const Y=F;var $=Y,I=l(2202);const L={class:"min-h-full pb-20 h-full"},M={class:"space-y-4 p-0 md:pt-10 md:py-10 2xl:px-8 max-w-[1640px] mx-auto flex flex-col justify-start"};var V=(0,a.aZ)({__name:"Edit",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(I.Z,{name:"Add New Asset",subName:"Asset",redirectRoute:"asset"}),(0,a._)("div",L,[(0,a._)("div",M,[(0,a.Wm)($)])])],64))}});const K=V;var R=K}}]);