"use strict";(self["webpackChunkvue3_ts_template"]=self["webpackChunkvue3_ts_template"]||[]).push([[369],{6210:function(t,e,i){i.d(e,{Z:function(){return m}});var n=i(6252),a=i(2262),o=i(3577),s=i(9737),r=i(7960);const l=(0,n.Uk)("Click to upload"),u={class:"el-upload__tip"},c=(0,n.Uk)("Attach File ");var h=(0,n.aZ)({__name:"AttachFile",props:{action:{type:String,required:!0},fileSize:{type:Number,default:15},data:{type:Object},limit:{type:Number,default:3}},emits:["disable","files"],setup(t,{expose:e,emit:i}){const h=t;e({sliceAttachments:b,submitUpload:A});const d=(0,a.iH)(null),m=(0,a.iH)([]),p=(0,a.iH)([]),v=(0,a.iH)(!1),f=(0,n.Fl)((()=>({Authorization:`Bearer ${(0,r.LP)()}`})));function g(t){v.value=!0,i("disable",!0);const e=t.size/1024/1024<h.fileSize;return e||(s.T.alert("Document size can not exceed "+h.fileSize+"MB!"),v.value=!1,i("disable",!0)),e}function y(t,e){m.value=e.slice(-3);const i=p.value.filter((e=>e.crmid!==t.response.crmid));p.value=i}function w(){s.T.alert("File limit exceeded. 3 files attachment only.")}function _(t){s.T.alert(t),v.value=!1,i("disable",!1)}function x(t){p.value.push(t),v.value=!1,i("disable",!1),i("files",p.value)}function b(){m.value=[],p.value=[],d.value?.clearFiles()}function A(){v.value=!0,d.value?.submit()}return(e,i)=>{const s=(0,n.up)("el-button"),r=(0,n.up)("el-upload"),h=(0,n.up)("el-badge"),m=(0,n.up)("el-popover");return(0,n.wg)(),(0,n.j4)(m,{placement:"top",width:"400",trigger:"click"},{reference:(0,n.w5)((()=>[(0,n.Wm)(h,{value:p.value.length,class:"item"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{type:"default"},{default:(0,n.w5)((()=>[c])),_:1})])),_:1},8,["value"])])),default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"upload-demo",data:t.data,action:t.action,limit:t.limit,ref_key:"upload",ref:d,"before-upload":g,"on-remove":y,"on-exceed":w,headers:(0,a.SU)(f),"on-error":_,"on-success":x,"auto-upload":!0},{tip:(0,n.w5)((()=>[(0,n._)("div",u," Files with a size less than "+(0,o.zw)(t.fileSize)+"mb. ",1)])),default:(0,n.w5)((()=>[(0,n.Wm)(s,{loading:v.value,type:"primary"},{default:(0,n.w5)((()=>[l])),_:1},8,["loading"])])),_:1},8,["data","action","limit","headers"])])),_:1})}}});const d=h;var m=d},7064:function(t,e,i){i.d(e,{Z:function(){return g}});var n=i(6252),a=i(2262),o=i(3577),s=i(452),r=i(2115);const l=(0,n._)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),u={class:"fixed inset-0 z-10 overflow-y-auto"},c={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},h={key:0,class:"sm:flex sm:items-start"},d={class:"text-center sm:mt-0 sm:text-left"},m={key:1,class:"sm:flex sm:flex-row-reverse space-x-2 gap-2 mt-3"},p=(0,n.Uk)(" Cancel ");var v=(0,n.aZ)({__name:"Dialog",props:{show:{type:Boolean,required:!0},title:{type:String},width:{type:String,default:"500px",required:!0},actionBar:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},submitLabel:{type:String,default:"Submit"},submitType:{type:String,default:"primary"},submitDisabled:{type:Boolean,default:!1}},emits:["close","submit"],setup(t,{emit:e}){const i=(0,a.iH)(!1);return(0,n.bv)((()=>{i.value=!0})),(i,v)=>{const f=(0,n.up)("el-button");return(0,n.wg)(),(0,n.j4)((0,a.SU)(s.Q),{as:"template",show:t.show},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(r.Vq),{as:"div",class:"relative z-10",onClose:v[2]||(v[2]=t=>e("close"))},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(s.x),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,n.w5)((()=>[l])),_:1}),(0,n._)("div",u,[(0,n._)("div",c,[(0,n.Wm)((0,a.SU)(s.x),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(r.EM),{class:(0,o.C_)("relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 w-full sm:p-6 mb-[64px] md:mb-0"),style:(0,o.j5)(`width: ${t.width}`)},{default:(0,n.w5)((()=>[t.title?((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("div",d,[(0,n.Wm)((0,a.SU)(r.$N),{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.title),1)])),_:1})])])):(0,n.kq)("",!0),(0,n.WI)(i.$slots,"default"),t.actionBar?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",null,[(0,n.Wm)(f,{type:t.submitType,loading:t.loading,disabled:t.submitDisabled,size:"large",class:"mt-3 inline-flex w-full justify-center rounded-md sm:mt-0 sm:w-auto",onClick:v[0]||(v[0]=t=>e("submit"))},{default:(0,n.w5)((()=>[(0,n.Uk)((0,o.zw)(t.submitLabel),1)])),_:1},8,["type","loading","disabled"])]),(0,n._)("div",null,[(0,n.Wm)(f,{type:"button",size:"large",class:"mt-3 inline-flex w-full justify-center rounded-md sm:mt-0 sm:w-auto",onClick:v[1]||(v[1]=t=>e("close")),ref:"cancelButtonRef"},{default:(0,n.w5)((()=>[p])),_:1},512)])])):(0,n.kq)("",!0)])),_:3},8,["style"])])),_:3})])])])),_:3})])),_:3},8,["show"])}}});const f=v;var g=f},2202:function(t,e,i){i.d(e,{Z:function(){return p}});var n=i(6252),a=i(3577),o=i(9963),s=i(2262),r=i(3824);const l={key:0,class:"flex flex-1"},u={class:"my-auto"},c={class:"text-lg font-barlow font-bold leading-6 text-gray-900 truncate"},h={class:"ml-4 flex items-center lg:ml-6"};var d=(0,n.aZ)({__name:"SubHeader",props:{name:{type:String},subName:{type:String},redirectRoute:{type:String}},setup(t){const e=t,i=(0,s.iH)(!1);return(0,n.bv)((()=>{i.value=!0})),(d,m)=>i.value?((0,n.wg)(),(0,n.j4)(n.lR,{key:0,to:"#testTeleport"},[t.name?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",u,[(0,n._)("h1",c,(0,a.zw)(e.name),1),t.subName?((0,n.wg)(),(0,n.iD)("a",{key:0,onClick:m[0]||(m[0]=(0,o.iM)((e=>(0,s.SU)(r.Z).push({name:t.redirectRoute})),["prevent"])),class:"md:inline text-secondary text-opacity-40 font-barlow font-bold text-sm uppercase text-gray-600 truncate hover:text-pumpkin cursor-pointer"},(0,a.zw)(t.subName),1)):(0,n.kq)("",!0)])])):(0,n.kq)("",!0),(0,n._)("div",h,[(0,n.WI)(d.$slots,"default")])])):(0,n.kq)("",!0)}});const m=d;var p=m},9419:function(t,e,i){i.d(e,{Z:function(){return b}});var n=i(6252),a=i(2262);
/*!
 * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad
 * (c) 2020 Szymon Nowak | Released under the MIT license
 */
class o{constructor(t,e,i){this.x=t,this.y=e,this.time=i||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class s{constructor(t,e,i,n,a,o){this.startPoint=t,this.control2=e,this.control1=i,this.endPoint=n,this.startWidth=a,this.endWidth=o}static fromPoints(t,e){const i=this.calculateControlPoints(t[0],t[1],t[2]).c2,n=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new s(t[1],i,n,t[2],e.start,e.end)}static calculateControlPoints(t,e,i){const n=t.x-e.x,a=t.y-e.y,s=e.x-i.x,r=e.y-i.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+i.x)/2,y:(e.y+i.y)/2},c=Math.sqrt(n*n+a*a),h=Math.sqrt(s*s+r*r),d=l.x-u.x,m=l.y-u.y,p=h/(c+h),v={x:u.x+d*p,y:u.y+m*p},f=e.x-v.x,g=e.y-v.y;return{c1:new o(l.x+f,l.y+g),c2:new o(u.x+f,u.y+g)}}length(){const t=10;let e,i,n=0;for(let a=0;a<=t;a+=1){const o=a/t,s=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){const t=s-e,a=r-i;n+=Math.sqrt(t*t+a*a)}e=s,i=r}return n}point(t,e,i,n,a){return e*(1-t)*(1-t)*(1-t)+3*i*(1-t)*(1-t)*t+3*n*(1-t)*t*t+a*t*t*t}}function r(t,e=250){let i,n,a,o=0,s=null;const r=()=>{o=Date.now(),s=null,i=t.apply(n,a),s||(n=null,a=[])};return function(...l){const u=Date.now(),c=e-(u-o);return n=this,a=l,c<=0||c>e?(s&&(clearTimeout(s),s=null),o=u,i=t.apply(n,a),s||(n=null,a=[])):s||(s=window.setTimeout(r,c)),i}}class l{constructor(t,e={}){this.canvas=t,this.options=e,this._handleMouseDown=t=>{1===t.which&&(this._mouseButtonDown=!0,this._strokeBegin(t))},this._handleMouseMove=t=>{this._mouseButtonDown&&this._strokeMoveUpdate(t)},this._handleMouseUp=t=>{1===t.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(t))},this._handleTouchStart=t=>{if(t.preventDefault(),1===t.targetTouches.length){const e=t.changedTouches[0];this._strokeBegin(e)}},this._handleTouchMove=t=>{t.preventDefault();const e=t.targetTouches[0];this._strokeMoveUpdate(e)},this._handleTouchEnd=t=>{const e=t.target===this.canvas;if(e){t.preventDefault();const e=t.changedTouches[0];this._strokeEnd(e)}},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.dotSize=e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=e.onBegin,this.onEnd=e.onEnd,this._strokeMoveUpdate=this.throttle?r(l.prototype._strokeUpdate,this.throttle):l.prototype._strokeUpdate,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:t,canvas:e}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(t,e={},i){const n=new Image,a=e.ratio||window.devicePixelRatio||1,o=e.width||this.canvas.width/a,s=e.height||this.canvas.height/a;this._reset(),n.onload=()=>{this._ctx.drawImage(n,0,0,o,s),i&&i()},n.onerror=t=>{i&&i(t)},n.src=t,this._isEmpty=!1}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t){this.clear(),this._fromData(t,(({color:t,curve:e})=>this._drawCurve({color:t,curve:e})),(({color:t,point:e})=>this._drawDot({color:t,point:e}))),this._data=t}toData(){return this._data}_strokeBegin(t){const e={color:this.penColor,points:[]};"function"===typeof this.onBegin&&this.onBegin(t),this._data.push(e),this._reset(),this._strokeUpdate(t)}_strokeUpdate(t){if(0===this._data.length)return void this._strokeBegin(t);const e=t.clientX,i=t.clientY,n=this._createPoint(e,i),a=this._data[this._data.length-1],o=a.points,s=o.length>0&&o[o.length-1],r=!!s&&n.distanceTo(s)<=this.minDistance,l=a.color;if(!s||!s||!r){const t=this._addPoint(n);s?t&&this._drawCurve({color:l,curve:t}):this._drawDot({color:l,point:n}),o.push({time:n.time,x:n.x,y:n.y})}}_strokeEnd(t){this._strokeUpdate(t),"function"===typeof this.onEnd&&this.onEnd(t)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(t,e){const i=this.canvas.getBoundingClientRect();return new o(t-i.left,e-i.top,(new Date).getTime())}_addPoint(t){const{_lastPoints:e}=this;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);const t=this._calculateCurveWidths(e[1],e[2]),i=s.fromPoints(e,t);return e.shift(),i}return null}_calculateCurveWidths(t,e){const i=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(i),a={end:n,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=n,a}_strokeWidth(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}_drawCurveSegment(t,e,i){const n=this._ctx;n.moveTo(t,e),n.arc(t,e,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:t,curve:e}){const i=this._ctx,n=e.endWidth-e.startWidth,a=2*Math.floor(e.length());i.beginPath(),i.fillStyle=t;for(let o=0;o<a;o+=1){const t=o/a,i=t*t,s=i*t,r=1-t,l=r*r,u=l*r;let c=u*e.startPoint.x;c+=3*l*t*e.control1.x,c+=3*r*i*e.control2.x,c+=s*e.endPoint.x;let h=u*e.startPoint.y;h+=3*l*t*e.control1.y,h+=3*r*i*e.control2.y,h+=s*e.endPoint.y;const d=Math.min(e.startWidth+s*n,this.maxWidth);this._drawCurveSegment(c,h,d)}i.closePath(),i.fill()}_drawDot({color:t,point:e}){const i=this._ctx,n="function"===typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(e.x,e.y,n),i.closePath(),i.fillStyle=t,i.fill()}_fromData(t,e,i){for(const n of t){const{color:t,points:a}=n;if(a.length>1)for(let i=0;i<a.length;i+=1){const n=a[i],s=new o(n.x,n.y,n.time);this.penColor=t,0===i&&this._reset();const r=this._addPoint(s);r&&e({color:t,curve:r})}else this._reset(),i({color:t,point:a[0]})}}_toSVG(){const t=this._data,e=Math.max(window.devicePixelRatio||1,1),i=0,n=0,a=this.canvas.width/e,o=this.canvas.height/e,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",this.canvas.width.toString()),s.setAttribute("height",this.canvas.height.toString()),this._fromData(t,(({color:t,curve:e})=>{const i=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){const n=`M ${e.startPoint.x.toFixed(3)},${e.startPoint.y.toFixed(3)} C ${e.control1.x.toFixed(3)},${e.control1.y.toFixed(3)} ${e.control2.x.toFixed(3)},${e.control2.y.toFixed(3)} ${e.endPoint.x.toFixed(3)},${e.endPoint.y.toFixed(3)}`;i.setAttribute("d",n),i.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),i.setAttribute("stroke",t),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}}),(({color:t,point:e})=>{const i=document.createElement("circle"),n="function"===typeof this.dotSize?this.dotSize():this.dotSize;i.setAttribute("r",n.toString()),i.setAttribute("cx",e.x.toString()),i.setAttribute("cy",e.y.toString()),i.setAttribute("fill",t),s.appendChild(i)}));const r="data:image/svg+xml;base64,",l=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${i} ${n} ${a} ${o}" width="${a}" height="${o}">`;let u=s.innerHTML;if(void 0===u){const t=document.createElement("dummy"),e=s.childNodes;t.innerHTML="";for(let i=0;i<e.length;i+=1)t.appendChild(e[i].cloneNode(!0));u=t.innerHTML}const c="</svg>",h=l+u+c;return r+btoa(h)}}var u=l,c={format:"image/png",quality:.92,width:void 0,height:void 0,Canvas:void 0,crossOrigin:void 0},h=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),new Promise((function(i){e=Object.assign({},c,e);var n=e.Canvas?new e.Canvas:window.document.createElement("canvas"),a=e.Image||window.Image,o=t.map((function(t){return new Promise((function(i,n){"Object"!==t.constructor.name&&(t={src:t});var o=new a;o.crossOrigin=e.crossOrigin,o.onerror=function(){return n(new Error("Couldn't load image"))},o.onload=function(){return i(Object.assign({},t,{img:o}))},o.src=t.src}))})),s=n.getContext("2d");i(Promise.all(o).then((function(t){var i=function(i){return e[i]||Math.max.apply(Math,t.map((function(t){return t.img[i]})))};return n.width=i("width"),n.height=i("height"),t.forEach((function(t){return s.globalAlpha=t.opacity?t.opacity:1,s.drawImage(t.img,t.x||0,t.y||0)})),e.Canvas&&"image/jpeg"===e.format?new Promise((function(t,i){n.toDataURL(e.format,{quality:e.quality,progressive:!1},(function(e,n){e?i(e):t(n)}))})):n.toDataURL(e.format,e.quality)})))}))},d=h;let m,p;function v(t,e,i,n=Date.now()){let a=t.length,o=new Uint8Array(a);while(a--)o[a]=t.charCodeAt(a);return new File([o],e,{type:i,lastModified:n})}function f(t,e,i=Date.now()){const n=t.split(","),a=n[0],o=a.match(/:(.*?);/);if(!o)throw new Error("Invalid data url");const s=o[1],r=atob(n[1]);return v(r,e,s,i)}(function(t){t["PNG"]="image/png",t["JPEG"]="image/jpeg",t["SVG"]="image/svg+xml"})(m||(m={})),function(t){t["FILE"]="file",t["DATA_URL"]="data_url"}(p||(p={}));const g=t=>JSON.parse(JSON.stringify(t)),y={x:0,y:0,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="},w={dotSize:1.5,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7};var _=(0,n.aZ)({name:"VueSignaturePad",props:{modelValue:{type:[String,File],required:!1},width:{type:Number,default:250,validator:function(t){return 0<=t&&t<=99999}},height:{type:Number,default:150,validator:function(t){return 0<=t&&t<=99999}},saveType:{type:String,default:m.PNG,validator:function(t){const e=Object.values(m);return!!e.includes(t)||(console.warn(`The Image type is incorrect! Supported ones are ${e.join(", ")}.`),!1)}},saveOutput:{type:String,default:p.DATA_URL,validator:function(t){const e=Object.values(p);return!!e.includes(t)||(console.warn(`The save output is incorrect! Supported ones are ${e.join(", ")}.`),!1)}},customStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>w},images:{type:Array,default:()=>[]}},setup(t,e){const i=(0,a.qj)({cacheImages:[],onResizeHandler:null,signaturePad:{},signatureData:y}),o=(0,a.iH)(null),s=(0,n.Fl)((()=>{if(!o.value)throw new Error('No canvas could be found with this "ref" in the template');return o.value})),r=(0,n.Fl)((()=>{const e=Array.from(g(t.images)),n=Array.from(g(i.cacheImages));return[...e,...n]}));function l(){const t=s.value,e=i.signaturePad.toData(),n=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*n,t.height=t.offsetHeight*n;const a=t.getContext("2d");a&&a.scale(n,n),i.signaturePad.clear(),i.signatureData=y,i.signaturePad.fromData(e)}function c(e=t.saveType,n){if(i.signaturePad.isEmpty()){if(t.saveOutput===p.FILE)return{isEmpty:!0,file:null,output:p.FILE};if(t.saveOutput===p.DATA_URL)return{isEmpty:!0,data:null,output:p.DATA_URL};throw new Error(`This saveOutput ${t.saveOutput} is not supported`)}const a=i.signaturePad.toDataURL(e,n);if(i.signatureData.src=a,t.saveOutput===p.FILE)return{isEmpty:!1,file:f(a,"signature"),output:p.FILE};if(t.saveOutput===p.DATA_URL)return{isEmpty:!1,data:a,output:p.DATA_URL};throw new Error(`This saveOutput ${t.saveOutput} is not supported`)}function h(){const t=i.signaturePad.toData();t&&i.signaturePad.fromData(t.slice(0,-1))}function v(){const t=c();let i=null;t.output===p.FILE?i=t.file:t.output===p.DATA_URL&&(i=t.data),e.emit("input",i)}function w(e){return i.signatureData=e,d([...t.images,...i.cacheImages,i.signatureData])}function _(e=[]){return i.cacheImages=[...i.cacheImages,...e],d([...t.images,...i.cacheImages,i.signatureData])}function x(t,e={},n){i.signaturePad.fromDataURL(t,e,n)}function b(t){i.signaturePad.fromData(t)}function A(t=m.PNG,e){return i.signaturePad.toDataURL(t,e)}function P(){return i.signaturePad.toData()}function E(){i.signaturePad.off()}function D(){i.signaturePad.on()}function S(){return i.signaturePad.isEmpty()}function k(){return r.value}function C(){return i.cacheImages=[],i.cacheImages}function M(){i.signaturePad.clear(),e.emit("input",null)}return(0,n.YP)((()=>t.options),(t=>{Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(i.signaturePad,e)&&(i.signaturePad[e]=t[e])}))})),(0,n.bv)((()=>{const e=s.value,n=new u(e,{onEnd:v,...t.options});i.signaturePad=n,i.onResizeHandler=l,window.addEventListener("resize",i.onResizeHandler,!1),l()})),(0,n.Jd)((()=>{i.onResizeHandler&&window.removeEventListener("resize",i.onResizeHandler,!1)})),{...(0,a.BK)(i),signaturePadCanvas:o,propsImagesAndCustomImages:r,resizeCanvas:l,saveSignature:c,undoSignature:h,mergeImageAndSignature:w,addImages:_,fromDataURL:x,toDataURL:A,fromData:b,toData:P,lockSignaturePad:E,openSignaturePad:D,isEmpty:S,getPropImagesAndCacheImages:k,clearCacheImages:C,clearSignature:M}},render(){const{width:t,height:e,customStyle:i}=this,a={width:`${t}px`,height:`${e}px`};return(0,n.h)("div",{style:{...a,...i}},[(0,n.h)("canvas",{style:{width:"100%",height:"100%"},ref:"signaturePadCanvas"})])}}),x=(()=>{const t=_;return t.install=e=>{e.component("SignaturePad",t)},t})(),b=x}}]);