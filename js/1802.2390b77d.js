(self["webpackChunkvue3_ts_template"]=self["webpackChunkvue3_ts_template"]||[]).push([[1802],{3617:function(e,t,l){const{createElementVNode:a,openBlock:i,createElementBlock:n}=l(9812);e.exports=function(e,t){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}},7026:function(e,t,l){const{createElementVNode:a,openBlock:i,createElementBlock:n}=l(9812);e.exports=function(e,t){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}},7888:function(e,t,l){"use strict";l.d(t,{Z:function(){return w}});var a=l(6252),i=l(2262),n=l(9963),s=l(3577),r=l(963);const o={role:"list",class:"rounded-md"},d=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",class:"flex-shrink-0 h-5 w-5 text-gray-400"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1),m={class:"ml-4 flex-shrink-0"},c=["onClick"],u=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",class:"flex-shrink-0 h-5 w-5 text-gray-400"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1),p={class:"ml-4 flex-shrink-0"},h=["onClick"],f=(0,a.Uk)("Attachments");var g=(0,a.aZ)({__name:"Attachments",props:{attachments:{type:Array},documents:{type:Array}},setup(e){const t=e,l=(0,a.Fl)((()=>t.attachments?t.attachments:[])),g=(0,a.Fl)((()=>t.documents?t.documents:[]));return(e,t)=>{const v=(0,a.up)("el-button"),w=(0,a.up)("el-popover");return(0,a.wg)(),(0,a.j4)(w,{placement:"top",width:"400",trigger:"hover"},{reference:(0,a.w5)((()=>[(0,a.Wm)(v,{type:"text",disabled:0==(0,i.SU)(l).length&&0==(0,i.SU)(g).length},{default:(0,a.w5)((()=>[f])),_:1},8,["disabled"])])),default:(0,a.w5)((()=>[(0,a._)("ul",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(l),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"pl-3 pr-4 py-1 flex items-center justify-between text-sm space-x-2 hover:text-orange-400 hover:bg-orange-100",key:t},[d,(0,a._)("div",m,[(0,a._)("a",{onClick:(0,n.iM)((t=>(0,i.SU)(r.LR)(e.notes.attachment.name)),["prevent"]),target:"_blank",class:"font-medium cursor-pointer"},(0,s.zw)(e.notes.attachment.name),9,c)])])))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(g),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"pl-3 pr-4 py-1 flex items-center justify-between text-sm space-x-2 hover:text-orange-400 hover:bg-orange-100",key:t},[u,(0,a._)("div",p,[(0,a._)("a",{onClick:(0,n.iM)((t=>(0,i.SU)(r.LR)(e.attachment.name)),["prevent"]),target:"_blank",class:"font-medium cursor-pointer"},(0,s.zw)(e.attachment.name),9,h)])])))),128))])])),_:1})}}});const v=g;var w=v},3003:function(e,t,l){"use strict";l.d(t,{Z:function(){return y}});var a=l(6252),i=l(2262),n=l(396),s=l(6080),r=l(1971),o=l(6210),d=l(7064);const m={class:"mt-3 grid grid-cols-12 gap-x-3 py-3"},c={class:"col-span-12 sm:col-span-12"},u=(0,a._)("label",{class:"block text-sm font-semibold text-gray-700 mb-1.5"},[(0,a.Uk)(" To"),(0,a._)("span",{class:"text-red-500 ml-2"},"*")],-1),p={class:"col-span-12 sm:col-span-12"},h=(0,a._)("label",{class:"block text-sm font-semibold text-gray-700 mb-1.5"}," Cc",-1),f={class:"col-span-12 sm:col-span-12"},g={class:"mt-5 sm:mt-6 flex justify-between"},v=(0,a.Uk)("Send");var w=(0,a.aZ)({__name:"EmailReply",props:{details:{type:Object},show:{type:Boolean,required:!0}},emits:["send","close"],setup(e,{expose:t,emit:l}){const w=e;t({handleModal:U});const _=(0,i.iH)(!1),y=(0,i.iH)(null),b=s.o7,x=s.T5+"/document/upload?type=email",k=(0,i.iH)([]),E=(0,i.qj)({subject:"",messageID:[],toEmail:[],ccEmail:[],bodyEmail:""});function U(e){_.value=e}function V(e){k.value=e}function z(){y.value?.validate().then((()=>{l("send",{form:E,file:k.value})}))}return(0,a.YP)((()=>_.value),(()=>{w.details?(E.subject=w.details?.subject,E.messageID=w.details?.messageID,E.toEmail=w.details?.toEmail,E.ccEmail=w.details?.ccEmail,E.bodyEmail=w.details?.bodyEmail):(E.subject="",E.messageID=[],E.toEmail=[],E.ccEmail=[],E.bodyEmail="")})),(t,s)=>{const w=(0,a.up)("el-select"),_=(0,a.up)("el-form-item"),k=(0,a.up)("el-form"),U=(0,a.up)("el-button");return(0,a.wg)(),(0,a.j4)(d.Z,{show:e.show,onClose:s[3]||(s[3]=e=>l("close")),width:"800px"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(k,{class:"divide-y divide-gray-200 overflow-hidden",ref_key:"mailForm",ref:y,model:E},{default:(0,a.w5)((()=>[(0,a._)("div",m,[(0,a._)("div",c,[(0,a.Wm)(_,{prop:"toEmail",rules:[{required:!0,message:"Email is required",trigger:"blur"}]},{default:(0,a.w5)((()=>[u,(0,a.Wm)(w,{style:{width:"100%"},modelValue:E.toEmail,"onUpdate:modelValue":s[0]||(s[0]=e=>E.toEmail=e),multiple:"","allow-create":"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please input email"},null,8,["modelValue"])])),_:1})]),(0,a._)("div",p,[(0,a.Wm)(_,{prop:"ccEmail"},{default:(0,a.w5)((()=>[h,(0,a.Wm)(w,{style:{width:"100%"},modelValue:E.ccEmail,"onUpdate:modelValue":s[1]||(s[1]=e=>E.ccEmail=e),multiple:"","allow-create":"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please input email"},null,8,["modelValue"])])),_:1})]),(0,a._)("div",f,[(0,a.Wm)(_,{prop:"bodyEmail",rules:[{required:!0,message:"Body is required",trigger:"blur"}]},{default:(0,a.w5)((()=>[(0,a.Wm)((0,i.SU)(n.Z),{class:"w-full",modelValue:E.bodyEmail,"onUpdate:modelValue":s[2]||(s[2]=e=>E.bodyEmail=e),"api-key":(0,i.SU)(b),init:{lineheight_formats:"1 1.1 1.2 1.3 1.4 1.5 2",fontsize_formats:"6pt 8pt 10pt 12pt 14pt 16pt 18pt 24pt 36pt 48pt",height:400,menubar:"tools table edit format tc",plugins:["table advlist autolink lists link image imagetools paste charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount lineheight pagebreak"],paste_data_images:!0,branding:!1,relative_urls:!1,remove_script_host:!0,document_base_url:"/",convert_urls:!0,images_upload_handler:(0,i.SU)(r.Z),toolbar:"insertfile undo redo | styleselect | bold italic | fontsizeselect|  alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | lineheightselect"}},null,8,["modelValue","api-key","init"])])),_:1})])])])),_:1},8,["model"])]),(0,a._)("div",g,[(0,a.Wm)(o.Z,{action:x,fileSize:25,onFiles:V}),(0,a.Wm)(U,{type:"primary",onClick:z},{default:(0,a.w5)((()=>[v])),_:1})])])),_:1},8,["show"])}}});const _=w;var y=_},6382:function(e,t,l){"use strict";l.d(t,{Z:function(){return U}});var a=l(6252),i=l(3577),n=l(2262),s=l(7888);const r={class:"table table-borderless",style:{"margin-bottom":"0.5rem"}},o=(0,a._)("td",{style:{width:"30px","font-size":"11px",padding:"0.2rem","font-weight":"700"}}," From: ",-1),d={style:{"font-size":"11px",padding:"0.2rem"}},m=(0,a._)("td",{style:{width:"30px","font-size":"11px",padding:"0.2rem","font-weight":"700","text-align":"right"}}," To: ",-1),c={style:{"font-size":"11px",padding:"0.2rem"}},u={key:0},p=(0,a._)("td",{style:{width:"30px","font-size":"11px",padding:"0.2rem","font-weight":"700","text-align":"right"}}," Cc: ",-1),h={style:{"font-size":"11px",padding:"0.2rem"}},f=["innerHTML"],g={key:0,class:"py-3 flex items-center justify-between border-t border-gray-200"},v={class:"flex-1 flex justify-between sm:hidden"},w={class:"flex space-x-2"},_=(0,a.Uk)("Reply"),y={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},b={class:"flex space-x-2"},x=(0,a.Uk)("Reply");var k=(0,a.aZ)({__name:"EmailThread",props:{thread:{type:Object,required:!0},replyMode:{type:Boolean,default:!0}},emits:["reply"],setup(e,{emit:t}){const l=e,k=(0,a.Fl)((()=>z(l.thread.data.from_email))),E=(0,a.Fl)((()=>z(l.thread.data.to_email))),U=(0,a.Fl)((()=>z(l.thread.data.cc_email)));function V(){t("reply",l.thread.data.mail_id)}function z(e){let t="",a=1;return e.map((e=>{t+=(""!==e.name?`${e.name} - `:"")+`${e.mail}`+(l.thread.data.from_email.length==a?"":", "),a++})),t}return(t,l)=>{const z=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("table",r,[(0,a._)("tr",null,[o,(0,a._)("td",d,(0,i.zw)((0,n.SU)(k)),1)]),(0,a._)("tr",null,[m,(0,a._)("td",c,(0,i.zw)((0,n.SU)(E)),1)]),(0,n.SU)(U)?((0,a.wg)(),(0,a.iD)("tr",u,[p,(0,a._)("td",h,(0,i.zw)((0,n.SU)(U)),1)])):(0,a.kq)("",!0)]),(0,a._)("div",{class:"w-full bg-white border p-4 rounded-b lg:rounded-b-none lg:rounded-r flex flex-col justify-between leading-normal break-all",style:{"min-height":"400px","max-height":"400px",overflow:"auto"},innerHTML:e.thread.data.html_body},null,8,f),e.replyMode?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",v,[(0,a._)("div",null,[(0,a.Wm)(s.Z,{attachments:e.thread.data.attachments},null,8,["attachments"])]),(0,a._)("div",w,[(0,a.Wm)(z,{type:"primary",onClick:V},{default:(0,a.w5)((()=>[_])),_:1})])]),(0,a._)("div",y,[(0,a._)("div",null,[(0,a.Wm)(s.Z,{attachments:e.thread.data.attachments},null,8,["attachments"])]),(0,a._)("div",b,[(0,a.Wm)(z,{type:"primary",onClick:V},{default:(0,a.w5)((()=>[x])),_:1})])])])):(0,a.kq)("",!0)],64)}}});const E=k;var U=E}}]);