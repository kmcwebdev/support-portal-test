(self["webpackChunkvue3_ts_template"]=self["webpackChunkvue3_ts_template"]||[]).push([[6861,884],{5646:function(e,l,t){const{createElementVNode:a,openBlock:s,createElementBlock:i}=t(9812);e.exports=function(e,l){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z","clip-rule":"evenodd"})])}},2594:function(e,l,t){const{createElementVNode:a,openBlock:s,createElementBlock:i}=t(9812);e.exports=function(e,l){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM12.75 6a.75.75 0 00-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-3.75V6z","clip-rule":"evenodd"})])}},5307:function(e,l,t){const{createElementVNode:a,openBlock:s,createElementBlock:i}=t(9812);e.exports=function(e,l){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"})])}},401:function(e,l,t){const{createElementVNode:a,openBlock:s,createElementBlock:i}=t(9812);e.exports=function(e,l){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{d:"M12 15a3 3 0 100-6 3 3 0 000 6z"}),a("path",{"fill-rule":"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 010-1.113zM17.25 12a5.25 5.25 0 11-10.5 0 5.25 5.25 0 0110.5 0z","clip-rule":"evenodd"})])}},9698:function(e,l,t){const{createElementVNode:a,openBlock:s,createElementBlock:i}=t(9812);e.exports=function(e,l){return s(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M2.625 6.75a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0A.75.75 0 018.25 6h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75zM2.625 12a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zM7.5 12a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12A.75.75 0 017.5 12zm-4.875 5.25a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0zm4.875 0a.75.75 0 01.75-.75h12a.75.75 0 010 1.5h-12a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})])}},8679:function(e,l,t){"use strict";t.d(l,{Z:function(){return X}});t(6699);var a=t(6252),s=t(2262),i=t(3577),n=t(963),d=t(7027),r=t(9274),o=t(2066),u=t(4949),c=t(2201),m=t(4204);const p={key:0,class:"space-y-4"},v={key:0},f={class:"text-lg leading-6 font-semibold text-gray-900"},g={class:"border-t border-gray-200 mt-4 pt-4"},x={class:"grid gap-x-4 gap-y-8 sm:grid-cols-12"},y={class:"text-sm font-medium text-gray-500"},w={class:"mt-1 text-sm text-gray-900"},h={role:"list",class:"border border-gray-200 rounded-md divide-y divide-gray-200"},b={class:"w-0 flex-1 flex items-center"},k={class:"ml-2 flex-1 w-0 truncate"},_={class:"ml-4 flex-shrink-0"},D=["href"],H={class:"text-sm font-medium text-gray-500"},S={class:"mt-1 text-sm text-gray-900"},U={class:"text-sm font-medium text-gray-500"},z=["innerHTML"],W={class:"text-sm font-medium text-gray-500"},Y={class:"mt-1 text-sm text-gray-900"},N={key:1,class:"space-y-4"},j={key:0},q={class:"text-lg leading-6 font-semibold text-gray-900"},C={class:"border-t border-gray-200 mt-4 pt-4"},M={class:"grid gap-x-4 gap-y-8 sm:grid-cols-12"},V={class:"text-sm font-medium text-gray-500"},B={class:"mt-1 text-sm text-gray-900"},F={role:"list",class:"border border-gray-200 rounded-md divide-y divide-gray-200"},E={class:"w-0 flex-1 flex items-center"},T={class:"ml-2 flex-1 w-0 truncate"},Z={class:"ml-4 flex-shrink-0"},K=["href"],L={class:"text-sm font-medium text-gray-500"},O={class:"mt-1 text-sm text-gray-900"},A={class:"text-sm font-medium text-gray-500"},P=["innerHTML"],R={class:"text-sm font-medium text-gray-500"},I={class:"mt-1 text-sm text-gray-900"};var $=(0,a.aZ)({__name:"RecordDetails",props:{summary:{type:Boolean,default:!1},inlineEdit:{type:Boolean,default:!1},valueOnly:{type:Boolean,default:!1}},setup(e){const l=e,t=(0,s.iH)(!1),$=(0,s.iH)([]),G=(0,c.yj)(),X=(0,a.Fl)((()=>r.h.getters.structure)),J=(0,a.Fl)((()=>r.h.getters.entityForm)),Q=(0,a.Fl)((()=>G.meta.tabId)),ee=(0,a.Fl)((()=>G.params.id)),le=(0,a.Fl)((()=>r.h.getters.hiddenBlocks)),te=(0,a.Fl)((()=>r.h.getters.nextBlocks)),ae=(0,a.Fl)((()=>r.h.getters.entityRecord));function se(){let e=null;X.value.blocks.map((l=>{if(e){r.h.commit(m.qo.POPULATE_ENTITY_FORM_BYBLOCK,e.blockid),(0,d.Xd)();const l=X.value.blocks.indexOf(e);if(l>=0&&l<X.value.blocks.length-1){let t=l+1,a=0,s=0;if(te.value.length>0){const t=te.value.indexOf(e);if(t>=0){const l=te.value[t+1];if(l){const t=X.value.blocks.find((e=>e.blockid==l.blockid));t&&(e=t,$.value.includes(t.blockid)||$.value.push(t.blockid),s=1)}else a=1}else te.value.map((t=>{if(le.value.includes(t.blockid))a=1;else{const i=X.value.blocks.find((e=>e.blockid==t.blockid));if(i){const t=X.value.blocks.indexOf(i);if(l<t)return e=i,$.value.includes(i.blockid)||$.value.push(i.blockid),void(s=1)}else a=1}}))}1==a&&X.value.blocks.map(((l,a)=>{if(t==a)if(le.value.includes(l.blockid))t+=1;else{const t=X.value.blocks.indexOf(l);if(a<t)return e=l,void($.value.includes(l.blockid)||$.value.push(l.blockid))}})),0==s&&(e=X.value.blocks[l+1],$.value.includes(X.value.blocks[l+1].blockid)||$.value.push(X.value.blocks[l+1].blockid))}}else e=l,r.h.commit(m.qo.POPULATE_ENTITY_FORM_BYBLOCK,l.blockid),(0,d.Xd)(),$.value.push(l.blockid)}))}function ie(e){return 13==Q.value?(0,n.X)(e):199==Q.value?(0,n.JE)(e):1==l.summary?(0,n.II)(e):(0,n.VN)(e)}async function ne(e){let l={value:e.value.value,fieldname:e.fieldname};46==Q.value&&(console.log(l),t.value=!0,await u.c.updateField(ee.value,l).then((()=>{t.value=!1,(0,n.mn)(e.fieldname,e.value)})).catch((()=>{t.value=!1}))),157==Q.value&&(t.value=!0,await u.c.updateNonITField(ee.value,l).then((()=>{t.value=!1,(0,n.mn)(e.fieldname,e.value)})).catch((()=>{t.value=!1})))}return(0,a.YP)((()=>[ae.value]),(()=>{199==Q.value?($.value=[],se()):(0,d.Xd)()})),(l,r)=>{const u=(0,a.up)("PaperClipIcon"),c=(0,a.up)("el-rate");return $.value.length>0?((0,a.wg)(),(0,a.iD)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(X).blocks,((l,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[!(0,s.SU)(le).includes(l.blockid)&&ie(l.blockid).length>0&&$.value.includes(l.blockid)?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("h2",f,(0,i.zw)(l.blocklabel),1),(0,a._)("div",g,[(0,a._)("dl",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ie(l.blockid),((l,r)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:r},[(0,s.SU)(d.cE)(l)?((0,a.wg)(),(0,a.iD)("div",{key:r,class:(0,i.C_)(["col-span-12",`sm:col-span-${l.span}`])},[995==l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("dt",y,(0,i.zw)(l.fieldlabel),1),(0,a._)("dd",w,[(0,a._)("ul",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(n.dG)(l.fieldname),((e,l)=>((0,a.wg)(),(0,a.iD)("li",{key:l,class:"pl-3 pr-4 py-3 flex items-center justify-between text-sm"},[(0,a._)("div",b,[(0,a.Wm)(u,{class:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,a._)("span",k,(0,i.zw)(e.name),1)]),(0,a._)("div",_,[(0,a._)("a",{href:e.filepath,target:"_blank",class:"font-medium text-primary"}," Download ",8,D)])])))),128))])])],64)):994==l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("dt",H,(0,i.zw)(l.fieldlabel),1),(0,a._)("dd",S,[(0,a.Wm)(c,{disabled:"","show-score":"","text-color":"#ff9900","model-value":(0,s.SU)(n.dG)(l.fieldname)},null,8,["model-value"])])],64)):19==l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("dt",U,(0,i.zw)(l.fieldlabel),1),(0,a._)("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:(0,s.SU)(n.dG)(l.fieldname)},null,8,z)],64)):999!=l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:3},[(0,a._)("dt",W,(0,i.zw)(l.fieldlabel),1),(0,a._)("div",Y,[(0,a.Wm)(o.Z,{"inline-edit":e.inlineEdit,"value-only":e.valueOnly,editable:(1==l.displaytype||2==l.displaytype)&&1==l.masseditable,"button-loading":t.value,uitype:l.uitype,fieldname:l.fieldname,relation:l.relation,value:(0,s.SU)(J)[(0,s.SU)(n.cx)(l.fieldname)],onSaveField:ne},null,8,["inline-edit","value-only","editable","button-loading","uitype","fieldname","relation","value"])])],64)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)],64)))),128))])])])):(0,a.kq)("",!0)])))),128))])):((0,a.wg)(),(0,a.iD)("div",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(X).blocks,((l,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[!(0,s.SU)(le).includes(l.blockid)&&ie(l.blockid).length>0?((0,a.wg)(),(0,a.iD)("div",j,[(0,a._)("h2",q,(0,i.zw)(l.blocklabel),1),(0,a._)("div",C,[(0,a._)("dl",M,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ie(l.blockid),((l,r)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:r},[(0,s.SU)(d.cE)(l)?((0,a.wg)(),(0,a.iD)("div",{key:r,class:(0,i.C_)(["col-span-12",`sm:col-span-${l.span}`])},[995==l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("dt",V,(0,i.zw)(l.fieldlabel),1),(0,a._)("dd",B,[(0,a._)("ul",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(n.dG)(l.fieldname),((e,l)=>((0,a.wg)(),(0,a.iD)("li",{key:l,class:"pl-3 pr-4 py-3 flex items-center justify-between text-sm"},[(0,a._)("div",E,[(0,a.Wm)(u,{class:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,a._)("span",T,(0,i.zw)(e.name),1)]),(0,a._)("div",Z,[(0,a._)("a",{href:e.filepath,target:"_blank",class:"font-medium text-primary"}," Download ",8,K)])])))),128))])])],64)):994==l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("dt",L,(0,i.zw)(l.fieldlabel),1),(0,a._)("dd",O,[(0,a.Wm)(c,{disabled:"","show-score":"","text-color":"#ff9900","model-value":(0,s.SU)(n.dG)(l.fieldname)},null,8,["model-value"])])],64)):19==l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("dt",A,(0,i.zw)(l.fieldlabel),1),(0,a._)("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:(0,s.SU)(n.dG)(l.fieldname)},null,8,P)],64)):999!=l.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:3},[(0,a._)("dt",R,(0,i.zw)(l.fieldlabel),1),(0,a._)("div",I,[(0,a.Wm)(o.Z,{"inline-edit":e.inlineEdit,"value-only":e.valueOnly,editable:(1==l.displaytype||2==l.displaytype)&&1==l.masseditable,"button-loading":t.value,uitype:l.uitype,fieldname:l.fieldname,relation:l.relation,value:(0,s.SU)(J)[(0,s.SU)(n.cx)(l.fieldname)],onSaveField:ne},null,8,["inline-edit","value-only","editable","button-loading","uitype","fieldname","relation","value"])])],64)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)],64)))),128))])])])):(0,a.kq)("",!0)])))),128))]))}}});const G=$;var X=G},6516:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return he}});var a=t(6252),s=t(2262),i=t(3577),n=t(9963),d=t(2202),r=t(963),o=t(2201);const u={class:"chat-header flex flex-row flex-none justify-start items-center bg-white space-x-3"},c={class:"flex items-center space-x-3"},m=(0,a.uE)('<div class="flex-shrink-0"><div class="relative"><span class="h-12 w-12 rounded-full overflow-hidden bg-[#f97316] flex flex-col justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"></path><path d="M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"></path></svg></span></div></div>',1),p={key:0,class:"text-md font-bold text-gray-900"},v={key:1,class:"text-md font-bold text-gray-900"};var f=(0,a.aZ)({__name:"DetailsHeader",setup(e){const l=(0,o.yj)(),t=(0,a.Fl)((()=>l.meta.navName));return(e,l)=>((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",c,[m,(0,a._)("div",null,["it-assets"==(0,s.SU)(t)?((0,a.wg)(),(0,a.iD)("h1",p,(0,i.zw)((0,s.SU)(r.el)("assetname")),1)):(0,a.kq)("",!0),"non-it-assets"==(0,s.SU)(t)?((0,a.wg)(),(0,a.iD)("h1",v,(0,i.zw)((0,s.SU)(r.el)("name")),1)):(0,a.kq)("",!0)])])]))}});const g=f;var x=g,y=t(8679),w=t(9698),h=t(2594),b=t(5646),k=t(3824),_=t(4949),D=t(3782),H=t(9274);const S={class:"block overflow-auto bg-white p-3 h-[500px]"},U={style:{display:"flex","align-items":"center","justify-items":"space-between",height:"16px"}},z={style:{display:"flex","align-items":"center","justify-items":"space-between","margin-top":"16px",height:"16px"}},W={class:""},Y={class:"overflow-hidden rounded border-gray-200"},N={key:0,class:"w-full bg-white border-r border-l"},j=(0,a._)("thead",{class:"bg-[#f97316] text-white"},[(0,a._)("tr",null,[(0,a._)("th",{class:"w-1/3 text-left py-3 px-4 uppercase font-semibold text-xs"}," Description ")])],-1),q={class:"text-gray-700"},C={class:"border-b"},M=["innerHTML"],V={key:1,class:"w-full bg-white border-r border-l"},B=(0,a._)("thead",{class:"bg-[#f97316] text-white"},[(0,a._)("tr",null,[(0,a._)("th",{class:"w-1/3 text-left py-2 px-3 uppercase font-semibold text-xs"}," Field Name "),(0,a._)("th",{class:"w-1/3 text-left py-2 px-3 uppercase font-semibold text-xs"}," Pre Value "),(0,a._)("th",{class:"text-left py-2 px-3 uppercase font-semibold text-xs"}," Post Value ")])],-1),F={class:"text-gray-700"},E={class:"w-1/3 font-semibold text-left py-2 px-3 text-xs"},T=["innerHTML"],Z=["innerHTML"],K={key:1,class:"text-center mt-5"},L=(0,a._)("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No history",-1);var O=(0,a.aZ)({__name:"AssetHistory",setup(e){const l=(0,s.iH)(!1),t=(0,s.qj)({data:[],total:0}),n=(0,s.qj)({page:0,limit:20}),d=(0,o.yj)(),r=(0,a.Fl)((()=>d.params.id)),u=(0,a.Fl)((()=>H.h.getters.entityStructure.fields));async function c(){l.value=!0,await _.c.getHistory(r.value,n).then((e=>{t.data.push(...e.data),t.total=e.total,l.value=!1}))}function m(){t.total>0&&t.data.length>0&&t.total==t.data.length||(n.page++,c())}function p(e){const l=u.value.find((l=>l.fieldname===e));return l?l.fieldlabel:""}return(e,n)=>{const d=(0,a.up)("el-skeleton-item"),r=(0,a.up)("el-timeline-item"),o=(0,a.up)("el-timeline"),u=(0,a.up)("el-skeleton"),c=(0,a.Q2)("infinite-scroll");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(u,{style:{width:"300px"},loading:l.value,animated:""},{template:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(10,(e=>(0,a._)("div",{style:{padding:"14px"},key:e},[(0,a._)("div",U,[(0,a.Wm)(d,{variant:"text",style:{width:"60%"},class:"mr-2"}),(0,a.Wm)(d,{variant:"text"})]),(0,a._)("div",z,[(0,a.Wm)(d,{variant:"text",style:{width:"40%"},class:"mr-2"})])]))),64))])),default:(0,a.w5)((()=>[t.data.length>0?((0,a.wg)(),(0,a.j4)(o,{key:0},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.data,((e,l)=>((0,a.wg)(),(0,a.j4)(r,{placement:"top",key:l,timestamp:`${e.whodid} | ${(0,s.SU)(D.W)(e.changedon)}`},{default:(0,a.w5)((()=>[(0,a._)("div",W,[(0,a._)("div",Y,[4===e.status?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[e.modrelation.entity?((0,a.wg)(),(0,a.iD)("table",N,[j,(0,a._)("tbody",q,[(0,a._)("tr",C,[(0,a._)("td",{class:"w-1/3 font-semibold text-left py-3 px-4 text-xs",innerHTML:e.modrelation.entity.description},null,8,M)])])])):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0),0===e.status||2===e.status?((0,a.wg)(),(0,a.iD)("table",V,[B,(0,a._)("tbody",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.detail,((e,l)=>((0,a.wg)(),(0,a.iD)("tr",{class:"border-b",key:l},[(0,a._)("td",E,(0,i.zw)(p(e.fieldname)),1),(0,a._)("td",{class:"w-1/3 text-left py-2 px-3 text-xs",innerHTML:e.prevalue},null,8,T),(0,a._)("td",{class:"w-1/3 text-left py-2 px-3 text-xs",innerHTML:e.postvalue},null,8,Z)])))),128))])])):(0,a.kq)("",!0)])])])),_:2},1032,["timestamp"])))),128))])),_:1})):((0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)((0,s.SU)(h),{class:"mx-auto h-12 w-12 text-gray-400"}),L]))])),_:1},8,["loading"])])),[[c,m]])}}});const A=O;var P=A;const R={class:"block overflow-y-auto h-full bg-white p-3"},I={style:{display:"flex","align-items":"center","justify-items":"space-between",height:"16px"}},$={style:{display:"flex","align-items":"center","justify-items":"space-between","margin-top":"16px",height:"16px"}},G={key:0,role:"list",class:"-mb-8"},X={class:"relative pb-8"},J={key:0,class:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"},Q={class:"relative flex items-start space-x-3"},ee={class:"relative px-1"},le={class:"h-8 w-8 bg-gray-100 rounded-full ring-8 ring-white flex items-center justify-center"},te={key:1,class:"text-center mt-5"},ae=(0,a._)("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No notes",-1);var se=(0,a.aZ)({__name:"AssetNotes",setup(e){const l=(0,o.yj)(),t=(0,s.iH)([]),i=(0,s.iH)(!1),n=(0,a.Fl)((()=>l.params.id));async function d(){i.value=!0,await _.c.getNotes(n.value).then((e=>{t.value=e,i.value=!1}))}return(0,a.bv)((()=>{d()})),(e,l)=>{const n=(0,a.up)("el-skeleton-item"),d=(0,a.up)("el-skeleton");return(0,a.wg)(),(0,a.iD)("div",R,[(0,a.Wm)(d,{style:{width:"300px"},loading:i.value,animated:""},{template:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(10,(e=>(0,a._)("div",{style:{padding:"14px"},key:e},[(0,a._)("div",I,[(0,a.Wm)(n,{variant:"text",style:{width:"60%"},class:"mr-2"}),(0,a.Wm)(n,{variant:"text"})]),(0,a._)("div",$,[(0,a.Wm)(n,{variant:"text",style:{width:"40%"},class:"mr-2"})])]))),64))])),default:(0,a.w5)((()=>[t.value.length>0?((0,a.wg)(),(0,a.iD)("ul",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.value,((e,l)=>((0,a.wg)(),(0,a.iD)("li",{key:l},[(0,a._)("div",X,[l!==t.value.length-1?((0,a.wg)(),(0,a.iD)("span",J)):(0,a.kq)("",!0),(0,a._)("div",Q,[(0,a._)("div",ee,[(0,a._)("div",le,[(0,a.Wm)((0,s.SU)(b),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])])])])])))),128))])):((0,a.wg)(),(0,a.iD)("div",te,[(0,a.Wm)((0,s.SU)(b),{class:"mx-auto h-12 w-12 text-gray-400"}),ae]))])),_:1},8,["loading"])])}}});const ie=se;var ne=ie;const de={class:"min-h-full pb-20 h-full"},re={class:"space-y-4 p-0 md:pt-10 md:py-10 2xl:px-8 max-w-[1640px] mx-auto flex flex-col justify-start"},oe={class:"flex flex-col md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"},ue={class:"sm:px-0"},ce={class:"sm:hidden"},me=(0,a._)("label",{for:"tabs",class:"sr-only"},"Select a tab",-1),pe={class:"hidden sm:block"},ve={class:"border-b border-gray-200"},fe={class:"mt-2 -mb-px flex space-x-8","aria-label":"Tabs"},ge=["onClick"],xe={class:"md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"};var ye=(0,a.aZ)({__name:"Details",setup(e){const l=[{name:"Summary",href:"#",icon:null,current:!1},{name:"Details",href:"#",icon:w,current:!1},{name:"History",href:"#",icon:h,current:!1},{name:"Notes",href:"#",icon:b,current:!1}],t=(0,o.yj)(),u=(0,a.Fl)((()=>t.meta.navName)),c=(0,a.Fl)((()=>t.query.view)),m=(0,a.Fl)((()=>c.value?c.value:"Summary"));return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d.Z,{name:"it-assets"==(0,s.SU)(u)?(0,s.SU)(r.el)("asset_no"):(0,s.SU)(r.el)("cf_2497"),subName:"Assets",redirectRoute:"assets"},null,8,["name"]),(0,a._)("div",de,[(0,a._)("div",re,[(0,a._)("div",oe,[(0,a.Wm)(x),(0,a._)("div",ue,[(0,a._)("div",ce,[me,(0,a._)("select",{onChange:t[0]||(t[0]=e=>(0,s.SU)(k.Z).push({query:{view:e.target.value}})),name:"tabs",class:"mt-4 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-pumpkin focus:outline-none focus:ring-pumpkin sm:text-sm"},[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(l,(e=>(0,a._)("option",{key:e.name},(0,i.zw)(e.name),1))),64))],32)]),(0,a._)("div",pe,[(0,a._)("div",ve,[(0,a._)("nav",fe,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(l,(e=>(0,a._)("a",{key:e.name,onClick:(0,n.iM)((l=>(0,s.SU)(k.Z).push({query:{view:e.name}})),["prevent"]),class:(0,i.C_)([e.name==(0,s.SU)(m)?"border-pumpkin text-pumpkin":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-200","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm cursor-pointer"])},(0,i.zw)(e.name),11,ge))),64))])])])])]),(0,a._)("div",xe,["Details"==(0,s.SU)(m)?((0,a.wg)(),(0,a.j4)(y.Z,{key:0,"inline-edit":!0})):(0,a.kq)("",!0),"Summary"==(0,s.SU)(m)?((0,a.wg)(),(0,a.j4)(y.Z,{key:1,summary:!0,"inline-edit":!0})):(0,a.kq)("",!0),"History"==(0,s.SU)(m)?((0,a.wg)(),(0,a.j4)(P,{key:2})):(0,a.kq)("",!0),"Notes"==(0,s.SU)(m)?((0,a.wg)(),(0,a.j4)(ne,{key:3})):(0,a.kq)("",!0)])])])],64))}});const we=ye;var he=we},9524:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return A}});var a=t(6252),s=t(3577),i=t(2262),n=t(2202),d=t(7971),r=t(4949),o=t(401),u=t(8756),c=t(5307),m=t(3824),p=t(7064),v=t(2201);const f={class:"min-h-full pb-20 h-full"},g={class:"space-y-4 p-0 md:pt-10 md:py-10 2xl:px-8 max-w-[1640px] mx-auto flex flex-col justify-start"},x={class:"flex flex-col md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"},y={class:"chat-header flex flex-row flex-none justify-start items-center bg-white space-x-3"},w={class:"flex items-center space-x-3"},h=(0,a.uE)('<div class="flex-shrink-0"><div class="relative"><span class="h-12 w-12 rounded-full overflow-hidden bg-[#f97316] flex flex-col justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clip-rule="evenodd"></path><path d="M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"></path></svg></span></div></div>',1),b={class:"text-md font-bold text-gray-900"},k={class:"md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"},_={class:"col-span-12 text-sm font-semibold text-gray-700 mb-1.5"},D=(0,a._)("span",{class:"text-red-500 mr-2"},"*",-1),H={class:"max-w-lg flex rounded-md shadow-sm space-x-2"},S=["onClick"],U={class:"max-w-lg flex rounded-md shadow-sm"},z={class:"mt-4 py-4 flex sm:px-4 w-full"},W=(0,a.Uk)(" Cancel "),Y=(0,a.Uk)(" Submit "),N={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100"},j={class:"mt-3 text-center sm:mt-5"},q=(0,a.Uk)("Errors"),C={class:"mt-2 w"},M={role:"list",class:"-my-5 divide-y divide-gray-200"},V={class:"relative"},B={class:"text-sm font-semibold text-left text-gray-800"},F={href:"#",class:"hover:underline focus:outline-none"},E=(0,a._)("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),T={class:"text-left mt-1 text-sm text-gray-600 line-clamp-2"},Z={class:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3"},K=(0,a.Uk)("Continue");var L=(0,a.aZ)({__name:"PurchaseRequest",setup(e){const l=(0,i.iH)(null),t=(0,i.iH)(!1),L=(0,v.yj)(),O=(0,a.Fl)((()=>L.params.id)),A=(0,i.iH)([]),P=(0,i.iH)(null),R=(0,i.iH)(!1),I=(0,i.iH)(!1),$=(0,i.iH)([]);async function G(){await r.c.getPRRecord(O.value).then((e=>{l.value=e,A.value=[],e.items.map((e=>{const l=[];for(let t=0;t<e.quantity;t++){const a={itemId:e.vteitemid,serialNumber:"",receivingNotes:"",disabled:!1,assetsid:null};e.assets[t]&&(e.assets[t].serialnumber&&(a.serialNumber=e.assets[t].serialnumber),e.assets[t].receiving_notes&&(a.receivingNotes=e.assets[t].receiving_notes),e.assets[t].assetsid&&(a.assetsid=e.assets[t].assetsid),a.disabled=!0),l.push(a)}A.value.push(l)}))}))}async function X(){P.value?.validate().then((async()=>{I.value=!0,await r.c.receiveShipment({items:A.value}).then((e=>{I.value=!1,e.errors.length>0?(R.value=!0,$.value=e.errors):G()})).catch((()=>{I.value=!1}))}))}return(0,a.bv)((()=>{G()})),(e,r)=>{const v=(0,a.up)("el-input"),L=(0,a.up)("el-form-item"),O=(0,a.up)("el-button"),G=(0,a.up)("el-affix"),J=(0,a.up)("el-form"),Q=(0,a.up)("DialogTitle");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n.Z,{name:l.value?.purchaseorder_no,subName:"Receive Shipment",redirectRoute:"purchase-request"},null,8,["name"]),(0,a._)("div",f,[(0,a._)("div",g,[(0,a._)("div",x,[(0,a._)("div",y,[(0,a._)("div",w,[h,(0,a._)("div",null,[(0,a._)("h1",b,(0,s.zw)(l.value?.subject),1)])])])]),(0,a._)("div",k,[(0,a.Wm)(J,{class:"divide-y divide-gray-200 overflow-hidden",ref_key:"itemForm",ref:P,model:A.value},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.value?.items,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"mt-3 grid grid-cols-12 gap-x-3 py-3",key:l},[(0,a._)("p",_,[D,(0,a.Uk)((0,s.zw)(e.product.productname),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(+e.quantity,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-span-12 sm:col-span-6",key:s},[(0,a.Wm)(L,{prop:`${l}.${s}.serialNumber`,rules:[{required:!0,message:"Please input serial number",target:"blur"}]},{default:(0,a.w5)((()=>[(0,a._)("div",H,[(0,a.Wm)(v,{size:"small",placeholder:"Serial Number",modelValue:A.value[l][s].serialNumber,"onUpdate:modelValue":e=>A.value[l][s].serialNumber=e,disabled:A.value[l][s].disabled},null,8,["modelValue","onUpdate:modelValue","disabled"]),A.value[l][s].disabled?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e=>(0,i.SU)(m.Z).push({name:"asset-details",params:{id:A.value[l][s].assetsid}}),type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-sm text-white bg-pumpkin"},[(0,a.Wm)((0,i.SU)(o),{class:"h-3 w-3","aria-hidden":"true"})],8,S)):((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:r[0]||(r[0]=e=>t.value=!0),type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-sm text-white bg-pumpkin"},[(0,a.Wm)((0,i.SU)(u),{class:"h-3 w-3","aria-hidden":"true"})]))])])),_:2},1032,["prop"]),(0,a.Wm)(L,{prop:`${l}.${s}.receivingNotes`,rules:[{required:!0,message:"Please input receiving notes",target:"blur"}]},{default:(0,a.w5)((()=>[(0,a._)("div",U,[(0,a.Wm)(v,{placeholder:"Receiving Notes",modelValue:A.value[l][s].receivingNotes,"onUpdate:modelValue":e=>A.value[l][s].receivingNotes=e,disabled:A.value[l][s].disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])])])),_:2},1032,["prop"])])))),128))])))),128)),(0,a.Wm)(G,{position:"bottom",offset:64},{default:(0,a.w5)((()=>[(0,a._)("div",z,[(0,a.Wm)(O,{type:"primary",plain:"",onClick:r[1]||(r[1]=e=>(0,i.SU)(m.Z).replace({name:"asset-lists"})),class:"bg-red-500 w-full"},{default:(0,a.w5)((()=>[W])),_:1}),(0,a.Wm)(O,{class:"bg-red-500 w-full",loading:I.value,type:"primary",onClick:X},{default:(0,a.w5)((()=>[Y])),_:1},8,["loading"])])])),_:1})])),_:1},8,["model"])])])]),(0,a.Wm)(d.Z,{open:t.value,onClose:r[2]||(r[2]=e=>t.value=!1)},null,8,["open"]),(0,a.Wm)(p.Z,{show:R.value,onClose:r[4]||(r[4]=e=>R.value=!1)},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",N,[(0,a.Wm)((0,i.SU)(c),{class:"h-6 w-6 text-red-600","aria-hidden":"true"})]),(0,a._)("div",j,[(0,a.Wm)(Q,{as:"h3",class:"text-base font-semibold leading-6 text-gray-900"},{default:(0,a.w5)((()=>[q])),_:1}),(0,a._)("div",C,[(0,a._)("ul",M,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)($.value,((e,l)=>((0,a.wg)(),(0,a.iD)("li",{class:"py-5",key:l},[(0,a._)("div",V,[(0,a._)("h3",B,[(0,a._)("a",F,[E,(0,a.Uk)(" "+(0,s.zw)(e.serialNumber),1)])]),(0,a._)("p",T,(0,s.zw)(e.error),1)])])))),128))])])])]),(0,a._)("div",Z,[(0,a.Wm)(O,{type:"primary",class:"w-full",onClick:r[3]||(r[3]=e=>R.value=!1)},{default:(0,a.w5)((()=>[K])),_:1})])])),_:1},8,["show"])],64)}}});const O=L;var A=O}}]);