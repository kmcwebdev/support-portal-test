(self["webpackChunkvue3_ts_template"]=self["webpackChunkvue3_ts_template"]||[]).push([[953],{3341:function(e,l,i){const{createElementVNode:t,openBlock:a,createElementBlock:s}=i(9812);e.exports=function(e,l){return a(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M18.97 3.659a2.25 2.25 0 00-3.182 0l-10.94 10.94a3.75 3.75 0 105.304 5.303l7.693-7.693a.75.75 0 011.06 1.06l-7.693 7.693a5.25 5.25 0 11-7.424-7.424l10.939-10.94a3.75 3.75 0 115.303 5.304L9.097 18.835l-.008.008-.007.007-.002.002-.003.002A2.25 2.25 0 015.91 15.66l7.81-7.81a.75.75 0 011.061 1.06l-7.81 7.81a.75.75 0 001.054 1.068L18.97 6.84a2.25 2.25 0 000-3.182z","clip-rule":"evenodd"})])}},516:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return ne}});var t=i(6252),a=i(2202),s=(i(6699),i(2262)),u=i(3577),o=i(3229),n=i(6080),c=i(2066),d=i(9963),r=i(963),v=i(7027),f=i(9274),m=i(4204),k=i(3341);const b={class:"border-gray-200 py-4"},p={class:"grid gap-x-4 gap-y-8 sm:grid-cols-12"},g={class:"text-sm font-medium text-gray-500"},x={class:"mt-1 text-sm text-gray-900"},y={role:"list",class:"border border-gray-200 rounded-md divide-y divide-gray-200"},h={class:"w-0 flex-1 flex items-center"},_={class:"ml-2 flex-1 w-0 truncate"},w={class:"ml-4 flex-shrink-0"},E=["href"],S={class:"text-sm font-medium text-gray-500"},D={class:"mt-1 text-sm text-gray-900"},O={class:"text-sm font-medium text-gray-500"},U={class:"mt-1 text-sm text-gray-900"};var C=(0,t.aZ)({__name:"Summary",setup(e){const l=(0,s.iH)([]),i=(0,t.Fl)((()=>f.h.getters.structure)),a=(0,t.Fl)((()=>f.h.getters.nextBlocks)),o=(0,t.Fl)((()=>f.h.getters.hiddenBlocks));function n(){let e=null;i.value.blocks.map((t=>{if(e){f.h.commit(m.qo.POPULATE_ENTITY_FORM_BYBLOCK,e.blockid),(0,v.Xd)();const t=i.value.blocks.indexOf(e);if(t>=0&&t<i.value.blocks.length-1){let s=t+1,u=0,n=0;if(a.value.length>0){const s=a.value.indexOf(e);if(s>=0){const t=a.value[s+1];if(t){const a=i.value.blocks.find((e=>e.blockid==t.blockid));a&&(e=a,l.value.includes(a.blockid)||l.value.push(a.blockid),n=1)}else u=1}else a.value.map((a=>{if(o.value.includes(a.blockid))u=1;else{const s=i.value.blocks.find((e=>e.blockid==a.blockid));if(s){const a=i.value.blocks.indexOf(s);if(t<a)return e=s,l.value.includes(s.blockid)||l.value.push(s.blockid),void(n=1)}else u=1}}))}1==u&&i.value.blocks.map(((t,a)=>{if(s==a)if(o.value.includes(t.blockid))s+=1;else{const s=i.value.blocks.indexOf(t);if(a<s)return e=t,void(l.value.includes(t.blockid)||l.value.push(t.blockid))}})),0==n&&(e=i.value.blocks[t+1],l.value.includes(i.value.blocks[t+1].blockid)||l.value.push(i.value.blocks[t+1].blockid))}}else e=t,f.h.commit(m.qo.POPULATE_ENTITY_FORM_BYBLOCK,t.blockid),(0,v.Xd)(),l.value.push(t.blockid)}))}return(0,t.bv)((()=>{n()})),(e,a)=>{const o=(0,t.up)("el-rate");return(0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(i).blocks,((e,i)=>((0,t.wg)(),(0,t.iD)("div",{key:i},[(0,t.wy)((0,t._)("div",b,[(0,t._)("dl",p,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(r.JE)(e.blockid),((e,l)=>((0,t.wg)(),(0,t.iD)("div",{key:l,class:(0,u.C_)(["col-span-12",`sm:col-span-${e.span}`])},[995==e.uitype?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("dt",g,(0,u.zw)(e.fieldlabel),1),(0,t._)("dd",x,[(0,t._)("ul",y,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(r.EQ)(e.fieldname),((e,l)=>((0,t.wg)(),(0,t.iD)("li",{key:l,class:"pl-3 pr-4 py-3 flex items-center justify-between text-sm"},[(0,t._)("div",h,[(0,t.Wm)((0,s.SU)(k),{class:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,t._)("span",_,(0,u.zw)(e.name),1)]),(0,t._)("div",w,[(0,t._)("a",{href:e.filepath,target:"_blank",class:"font-medium text-primary"}," Download ",8,E)])])))),128))])])],64)):994==e.uitype?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("dt",S,(0,u.zw)(e.fieldlabel),1),(0,t._)("dd",D,[(0,t.Wm)(o,{disabled:"","show-score":"","text-color":"#ff9900","model-value":(0,s.SU)(r.EQ)(e.fieldname)},null,8,["model-value"])])],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t._)("dt",O,(0,u.zw)(e.fieldlabel),1),(0,t._)("dd",U,(0,u.zw)((0,s.SU)(r.EQ)(e.fieldname)),1)],64))],2)))),128))])],512),[[d.F8,l.value.includes(e.blockid)]])])))),128)}}});const T=C;var F=T,H=i(3824),L=i(9996),Y=i(2938);const B=(0,t.Fl)((()=>f.h.getters.entityForm)),N=(0,Y.D)((async function(){const e=B.value.find((e=>e.fieldname==n.OT)),l=B.value.find((e=>e.fieldname==n.oO));e&&e.value&&await o.S.validateEmployee(e.value.toString()).then((e=>{f.h.commit(m.qo.SET_FORM_VALUE_FIELDID,{fieldId:l?.fieldid,value:{id:null,value:e.client}}),f.h.commit(m.NH.SET_EMPLOYEEIDVALIDATION,!0)})).catch((()=>{f.h.commit(m.NH.SET_EMPLOYEEIDVALIDATION,!1)}))}),700),I={key:0},z={class:"py-6 px-4 sm:p-6"},P={class:"text-xl leading-6 font-bold text-gray-900"},q={class:"mt-4 grid grid-cols-12 gap-x-3 border-t border-b py-3"},A=["for"],j={key:0,class:"text-red-500"},K={class:"text-xs mt-1 text-gray-700"},M=["innerHTML"],W={class:"mt-4 py-2 px-4 flex justify-end sm:px-6"},R=(0,t.Uk)(" Previous "),Q=(0,t.Uk)(" Next "),V=(0,t.Uk)(" Next "),X={key:1},Z={class:"flex flex-col md:rounded-lg bg-white p-4 md:p-6 lg:p-8"},J=(0,t._)("h2",{class:"text-lg leading-6 font-semibold text-gray-900"},"Summary",-1),$={class:"mt-4 py-2 px-4 flex justify-end sm:px-6"},G=(0,t.Uk)(" Previous "),ee=(0,t.Uk)(" Submit ");var le=(0,t.aZ)({__name:"EditForm",setup(e){const l=(0,s.iH)(!1),i=(0,s.iH)(!1),a=(0,s.iH)(!1),d=(0,s.iH)(null),k=(0,s.iH)([]),b=(0,t.Fl)((()=>f.h.getters.structure)),p=(0,t.Fl)((()=>f.h.getters.entityForm)),g=(0,t.Fl)((()=>f.h.getters.employeeIdValidated)),x=(0,t.Fl)((()=>f.h.getters.workflows)),y=(0,t.Fl)((()=>f.h.getters.hiddenBlocks)),h=(0,t.Fl)((()=>f.h.getters.nextBlocks)),_=(0,t.Fl)((()=>f.h.getters.blockSequence)),w=(0,t.Fl)((()=>{if(d.value){const e=_.value.indexOf(d.value);if(e>0)return!0}return!1}));function E(){if(l.value=!0,d.value){const e=b.value.blocks.indexOf(d.value);if(e>=0&&e<b.value.blocks.length-1){let i=e+1,t=0,a=0;h.value.length>0&&h.value.map((i=>{if(y.value.includes(i.blockid))t=1;else{const s=b.value.blocks.find((e=>e.blockid==i.blockid));if(s){const i=b.value.blocks.indexOf(s);if(e<i)return l.value=!1,void(a=1)}else t=1}})),1==t&&b.value.blocks.map(((e,t)=>{if(i==t)if(y.value.includes(e.blockid))i+=1;else{const i=b.value.blocks.indexOf(e);if(t<i)return void(l.value=!1)}})),0==a&&(l.value=!1)}}}async function S(){1==i.value?(a.value=!0,await o.S.createTicket(p.value).then((e=>{(0,L.bM)({type:"success",title:"Success",message:e.message}),H.Z.push({name:"click-hr-details",params:{id:e.data.slug}}),a.value=!1})).catch((()=>{a.value=!1}))):k.value[0].validate().then((async()=>{i.value=!0}))}function D(){k.value[0].validate().then((()=>{if((0,v.Xd)(),d.value){const e=b.value.blocks.indexOf(d.value);if(e>=0&&e<b.value.blocks.length-1){let l=e+1,i=0,t=0;if(h.value.length>0){const l=h.value.indexOf(d.value);if(l>=0){const e=h.value[l+1];if(e){const l=b.value.blocks.find((l=>l.blockid==e.blockid));l&&(d.value=l,t=1)}else i=1}else h.value.map((l=>{if(y.value.includes(l.blockid))i=1;else{const a=b.value.blocks.find((e=>e.blockid==l.blockid));if(a){const l=b.value.blocks.indexOf(a);if(e<l)return d.value=a,void(t=1)}else i=1}}))}1==i&&b.value.blocks.map(((e,i)=>{if(l==i)if(y.value.includes(e.blockid))l+=1;else{const l=b.value.blocks.indexOf(e);if(i<l)return void(d.value=e)}})),0==t&&(d.value=b.value.blocks[e+1])}f.h.commit(m.px.ADD_BLOCK_SEQUENCE,d.value),f.h.commit(m.px.POPULATE_REMOVED_FORM,d.value.blockid),E()}}))}function O(){if(d.value)if(1==i.value)i.value=!1;else{const e=_.value.indexOf(d.value),l=_.value[e-1];if(l){const e=b.value.blocks.find((e=>e.blockid==l.blockid));e&&(f.h.commit(m.px.SLICE_NEXT_BLOCKS,d.value),d.value=e,f.h.commit(m.px.SLICE_NEXT_SEQBLOCKS,d.value))}E()}}function U(e){e!=n.OT&&e!=n.AJ||N()}return(0,t.YP)((()=>b.value),(()=>{b.value.blocks.length>0&&(f.h.commit(m.px.EMPTY_BLOCK_SEQUENCE),d.value=b.value.blocks[0],f.h.commit(m.px.ADD_BLOCK_SEQUENCE,b.value.blocks[0]))})),(0,t.YP)((()=>[b.value,x.value]),(()=>{(0,v.Xd)()})),(e,o)=>{const n=(0,t.up)("el-form-item"),f=(0,t.up)("el-button"),m=(0,t.up)("el-form");return i.value?((0,t.wg)(),(0,t.iD)("div",X,[(0,t._)("div",Z,[J,(0,t.Wm)(F),(0,t._)("div",$,[(0,s.SU)(w)?((0,t.wg)(),(0,t.j4)(f,{key:0,type:"default",size:"medium",onClick:O},{default:(0,t.w5)((()=>[G])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(f,{loading:a.value,type:"primary",size:"medium",onClick:S},{default:(0,t.w5)((()=>[ee])),_:1},8,["loading"])])])])):((0,t.wg)(),(0,t.iD)("div",I,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(b).blocks,((e,i)=>((0,t.wg)(),(0,t.iD)("div",{key:i},[d.value&&d.value.blockid==e.blockid?((0,t.wg)(),(0,t.j4)(m,{key:0,class:"divide-y divide-gray-200 bg-white rounded-md overflow-hidden",model:{...(0,s.SU)(p)},ref_for:!0,ref_key:"editForm",ref:k},{default:(0,t.w5)((()=>[(0,t._)("div",z,[(0,t._)("div",null,[(0,t._)("h2",P,(0,u.zw)(e.blocklabel),1)]),(0,t._)("div",q,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,s.SU)(r.rp)(e.blockid),((l,i)=>((0,t.wg)(),(0,t.iD)(t.HY,{key:i},[(0,s.SU)(v.cE)(l)?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,u.C_)(["col-span-12",`sm:col-span-${l.span}`])},["fields"==l.type?((0,t.wg)(),(0,t.j4)(n,{key:0,prop:(0,s.SU)(r.WJ)(l),rules:(0,s.SU)(r.$c)(l)},{default:(0,t.w5)((()=>[(0,t._)("label",{for:l.fieldname,class:"block text-md font-bold text-gray-700"},[(0,t.Uk)((0,u.zw)(l.fieldlabel)+" ",1),(0,s.SU)(v.b3)(l)?((0,t.wg)(),(0,t.iD)("span",j,"Â *")):(0,t.kq)("",!0)],8,A),(0,t.Wm)(c.Z,{uitype:l.uitype,fieldname:l.fieldname,relation:l.relation,onChange:i=>{(0,s.SU)(v.mH)(e),U(l.fieldname)},disabled:(0,s.SU)(v.gJ)(l),value:(0,s.SU)(p)[(0,s.SU)(r.cx)(l.fieldname)],othersRadio:!1},null,8,["uitype","fieldname","relation","onChange","disabled","value"]),(0,t._)("p",K,(0,u.zw)(l.fieldsublabel),1)])),_:2},1032,["prop","rules"])):(0,t.kq)("",!0),"element"==l.type?((0,t.wg)(),(0,t.iD)("div",{key:1,class:"py-2",innerHTML:l.content},null,8,M)):(0,t.kq)("",!0)],2)):(0,t.kq)("",!0)],64)))),128))]),(0,t._)("div",W,[(0,s.SU)(w)?((0,t.wg)(),(0,t.j4)(f,{key:0,type:"default",size:"medium",onClick:O},{default:(0,t.w5)((()=>[R])),_:1})):(0,t.kq)("",!0),!l.value&&(0,s.SU)(g)?((0,t.wg)(),(0,t.j4)(f,{key:1,type:"primary",size:"medium",onClick:D},{default:(0,t.w5)((()=>[Q])),_:1})):(0,t.kq)("",!0),l.value?((0,t.wg)(),(0,t.j4)(f,{key:2,loading:a.value,type:"primary",size:"medium",onClick:S},{default:(0,t.w5)((()=>[V])),_:1},8,["loading"])):(0,t.kq)("",!0)])])])),_:2},1032,["model"])):(0,t.kq)("",!0)])))),128))]))}}});const ie=le;var te=ie;const ae={class:"min-h-full pb-20 h-full"},se={class:"p-0 md:pt-10 md:py-10 2xl:px-8 max-w-7xl mx-auto flex flex-col justify-start"};var ue=(0,t.aZ)({__name:"Edit",setup(e){return(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(a.Z,{name:"Add New Ticket",subName:"Click HR",redirectRoute:"click-hr-list"}),(0,t._)("div",ae,[(0,t._)("div",se,[(0,t.Wm)(te)])])],64))}});const oe=ue;var ne=oe},2938:function(e,l,i){"use strict";function t(e,l,i){var t,a,s;void 0===l&&(l=50),void 0===i&&(i={});var u=null!=(t=i.isImmediate)&&t,o=null!=(a=i.callback)&&a,n=i.maxWait,c=Date.now(),d=[];function r(){if(void 0!==n){var e=Date.now()-c;if(e+l>=n)return n-e}return l}var v=function(){var l=[].slice.call(arguments),i=this;return new Promise((function(t,a){var n=u&&void 0===s;if(void 0!==s&&clearTimeout(s),s=setTimeout((function(){if(s=void 0,c=Date.now(),!u){var t=e.apply(i,l);o&&o(t),d.forEach((function(e){return(0,e.resolve)(t)})),d=[]}}),r()),n){var v=e.apply(i,l);return o&&o(v),t(v)}d.push({resolve:t,reject:a})}))};return v.cancel=function(e){void 0!==s&&clearTimeout(s),d.forEach((function(l){return(0,l.reject)(e)})),d=[]},v}i.d(l,{D:function(){return t}})}}]);