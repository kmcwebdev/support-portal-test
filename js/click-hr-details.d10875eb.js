(self["webpackChunkvue3_ts_template"]=self["webpackChunkvue3_ts_template"]||[]).push([[3743],{3617:function(e,t,l){const{createElementVNode:a,openBlock:i,createElementBlock:s}=l(9812);e.exports=function(e,t){return i(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}},7026:function(e,t,l){const{createElementVNode:a,openBlock:i,createElementBlock:s}=l(9812);e.exports=function(e,t){return i(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}},7665:function(e,t,l){const{createElementVNode:a,openBlock:i,createElementBlock:s}=l(9812);e.exports=function(e,t){return i(),s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z","clip-rule":"evenodd"})])}},7888:function(e,t,l){"use strict";l.d(t,{Z:function(){return x}});var a=l(6252),i=l(2262),s=l(9963),n=l(3577),d=l(963);const r={role:"list",class:"rounded-md"},o=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",class:"flex-shrink-0 h-5 w-5 text-gray-400"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1),c={class:"ml-4 flex-shrink-0"},u=["onClick"],m=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",class:"flex-shrink-0 h-5 w-5 text-gray-400"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z","clip-rule":"evenodd"})],-1),p={class:"ml-4 flex-shrink-0"},v=["onClick"],g=(0,a.Uk)("Attachments");var y=(0,a.aZ)({__name:"Attachments",props:{attachments:{type:Array},documents:{type:Array}},setup(e){const t=e,l=(0,a.Fl)((()=>t.attachments?t.attachments:[])),y=(0,a.Fl)((()=>t.documents?t.documents:[]));return(e,t)=>{const f=(0,a.up)("el-button"),x=(0,a.up)("el-popover");return(0,a.wg)(),(0,a.j4)(x,{placement:"top",width:"400",trigger:"hover"},{reference:(0,a.w5)((()=>[(0,a.Wm)(f,{type:"text",disabled:0==(0,i.SU)(l).length&&0==(0,i.SU)(y).length},{default:(0,a.w5)((()=>[g])),_:1},8,["disabled"])])),default:(0,a.w5)((()=>[(0,a._)("ul",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(l),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"pl-3 pr-4 py-1 flex items-center justify-between text-sm space-x-2 hover:text-orange-400 hover:bg-orange-100",key:t},[o,(0,a._)("div",c,[(0,a._)("a",{onClick:(0,s.iM)((t=>(0,i.SU)(d.LR)(e.notes.attachment.name)),["prevent"]),target:"_blank",class:"font-medium cursor-pointer"},(0,n.zw)(e.notes.attachment.name),9,u)])])))),128)),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(y),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{class:"pl-3 pr-4 py-1 flex items-center justify-between text-sm space-x-2 hover:text-orange-400 hover:bg-orange-100",key:t},[m,(0,a._)("div",p,[(0,a._)("a",{onClick:(0,s.iM)((t=>(0,i.SU)(d.LR)(e.attachment.name)),["prevent"]),target:"_blank",class:"font-medium cursor-pointer"},(0,n.zw)(e.attachment.name),9,v)])])))),128))])])),_:1})}}});const f=y;var x=f},8679:function(e,t,l){"use strict";l.d(t,{Z:function(){return $}});l(6699);var a=l(6252),i=l(2262),s=l(3577),n=l(963),d=l(7027),r=l(9274),o=l(2066),c=l(4949),u=l(2201),m=l(4204);const p={key:0,class:"space-y-4"},v={key:0},g={class:"text-lg leading-6 font-semibold text-gray-900"},y={class:"border-t border-gray-200 mt-4 pt-4"},f={class:"grid gap-x-4 gap-y-8 sm:grid-cols-12"},x={class:"text-sm font-medium text-gray-500"},w={class:"mt-1 text-sm text-gray-900"},_={role:"list",class:"border border-gray-200 rounded-md divide-y divide-gray-200"},h={class:"w-0 flex-1 flex items-center"},b={class:"ml-2 flex-1 w-0 truncate"},k={class:"ml-4 flex-shrink-0"},U=["href"],S={class:"text-sm font-medium text-gray-500"},D={class:"mt-1 text-sm text-gray-900"},z={class:"text-sm font-medium text-gray-500"},H=["innerHTML"],Y={class:"text-sm font-medium text-gray-500"},M={class:"mt-1 text-sm text-gray-900"},W={key:1,class:"space-y-4"},C={key:0},F={class:"text-lg leading-6 font-semibold text-gray-900"},B={class:"border-t border-gray-200 mt-4 pt-4"},T={class:"grid gap-x-4 gap-y-8 sm:grid-cols-12"},j={class:"text-sm font-medium text-gray-500"},E={class:"mt-1 text-sm text-gray-900"},O={role:"list",class:"border border-gray-200 rounded-md divide-y divide-gray-200"},q={class:"w-0 flex-1 flex items-center"},Z={class:"ml-2 flex-1 w-0 truncate"},L={class:"ml-4 flex-shrink-0"},V=["href"],K={class:"text-sm font-medium text-gray-500"},N={class:"mt-1 text-sm text-gray-900"},A={class:"text-sm font-medium text-gray-500"},R=["innerHTML"],G={class:"text-sm font-medium text-gray-500"},I={class:"mt-1 text-sm text-gray-900"};var P=(0,a.aZ)({__name:"RecordDetails",props:{summary:{type:Boolean,default:!1},inlineEdit:{type:Boolean,default:!1},valueOnly:{type:Boolean,default:!1}},setup(e){const t=e,l=(0,i.iH)(!1),P=(0,i.iH)([]),X=(0,u.yj)(),$=(0,a.Fl)((()=>r.h.getters.structure)),J=(0,a.Fl)((()=>r.h.getters.entityForm)),Q=(0,a.Fl)((()=>X.meta.tabId)),ee=(0,a.Fl)((()=>X.params.id)),te=(0,a.Fl)((()=>r.h.getters.hiddenBlocks)),le=(0,a.Fl)((()=>r.h.getters.nextBlocks)),ae=(0,a.Fl)((()=>r.h.getters.entityRecord));function ie(){let e=null;$.value.blocks.map((t=>{if(e){r.h.commit(m.qo.POPULATE_ENTITY_FORM_BYBLOCK,e.blockid),(0,d.Xd)();const t=$.value.blocks.indexOf(e);if(t>=0&&t<$.value.blocks.length-1){let l=t+1,a=0,i=0;if(le.value.length>0){const l=le.value.indexOf(e);if(l>=0){const t=le.value[l+1];if(t){const l=$.value.blocks.find((e=>e.blockid==t.blockid));l&&(e=l,P.value.includes(l.blockid)||P.value.push(l.blockid),i=1)}else a=1}else le.value.map((l=>{if(te.value.includes(l.blockid))a=1;else{const s=$.value.blocks.find((e=>e.blockid==l.blockid));if(s){const l=$.value.blocks.indexOf(s);if(t<l)return e=s,P.value.includes(s.blockid)||P.value.push(s.blockid),void(i=1)}else a=1}}))}1==a&&$.value.blocks.map(((t,a)=>{if(l==a)if(te.value.includes(t.blockid))l+=1;else{const l=$.value.blocks.indexOf(t);if(a<l)return e=t,void(P.value.includes(t.blockid)||P.value.push(t.blockid))}})),0==i&&(e=$.value.blocks[t+1],P.value.includes($.value.blocks[t+1].blockid)||P.value.push($.value.blocks[t+1].blockid))}}else e=t,r.h.commit(m.qo.POPULATE_ENTITY_FORM_BYBLOCK,t.blockid),(0,d.Xd)(),P.value.push(t.blockid)}))}function se(e){return 13==Q.value?(0,n.X)(e):199==Q.value?(0,n.JE)(e):1==t.summary?(0,n.II)(e):(0,n.VN)(e)}async function ne(e){let t={value:e.value.value,fieldname:e.fieldname};46==Q.value&&(console.log(t),l.value=!0,await c.c.updateField(ee.value,t).then((()=>{l.value=!1,(0,n.mn)(e.fieldname,e.value)})).catch((()=>{l.value=!1}))),157==Q.value&&(l.value=!0,await c.c.updateNonITField(ee.value,t).then((()=>{l.value=!1,(0,n.mn)(e.fieldname,e.value)})).catch((()=>{l.value=!1})))}return(0,a.YP)((()=>[ae.value]),(()=>{199==Q.value?(P.value=[],ie()):(0,d.Xd)()})),(t,r)=>{const c=(0,a.up)("PaperClipIcon"),u=(0,a.up)("el-rate");return P.value.length>0?((0,a.wg)(),(0,a.iD)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)($).blocks,((t,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[!(0,i.SU)(te).includes(t.blockid)&&se(t.blockid).length>0&&P.value.includes(t.blockid)?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("h2",g,(0,s.zw)(t.blocklabel),1),(0,a._)("div",y,[(0,a._)("dl",f,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(se(t.blockid),((t,r)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:r},[(0,i.SU)(d.cE)(t)?((0,a.wg)(),(0,a.iD)("div",{key:r,class:(0,s.C_)(["col-span-12",`sm:col-span-${t.span}`])},[995==t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("dt",x,(0,s.zw)(t.fieldlabel),1),(0,a._)("dd",w,[(0,a._)("ul",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(n.dG)(t.fieldname),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"pl-3 pr-4 py-3 flex items-center justify-between text-sm"},[(0,a._)("div",h,[(0,a.Wm)(c,{class:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,a._)("span",b,(0,s.zw)(e.name),1)]),(0,a._)("div",k,[(0,a._)("a",{href:e.filepath,target:"_blank",class:"font-medium text-primary"}," Download ",8,U)])])))),128))])])],64)):994==t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("dt",S,(0,s.zw)(t.fieldlabel),1),(0,a._)("dd",D,[(0,a.Wm)(u,{disabled:"","show-score":"","text-color":"#ff9900","model-value":(0,i.SU)(n.dG)(t.fieldname)},null,8,["model-value"])])],64)):19==t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("dt",z,(0,s.zw)(t.fieldlabel),1),(0,a._)("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:(0,i.SU)(n.dG)(t.fieldname)},null,8,H)],64)):999!=t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:3},[(0,a._)("dt",Y,(0,s.zw)(t.fieldlabel),1),(0,a._)("div",M,[(0,a.Wm)(o.Z,{"inline-edit":e.inlineEdit,"value-only":e.valueOnly,editable:(1==t.displaytype||2==t.displaytype)&&1==t.masseditable,"button-loading":l.value,uitype:t.uitype,fieldname:t.fieldname,relation:t.relation,value:(0,i.SU)(J)[(0,i.SU)(n.cx)(t.fieldname)],onSaveField:ne},null,8,["inline-edit","value-only","editable","button-loading","uitype","fieldname","relation","value"])])],64)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)],64)))),128))])])])):(0,a.kq)("",!0)])))),128))])):((0,a.wg)(),(0,a.iD)("div",W,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)($).blocks,((t,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[!(0,i.SU)(te).includes(t.blockid)&&se(t.blockid).length>0?((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("h2",F,(0,s.zw)(t.blocklabel),1),(0,a._)("div",B,[(0,a._)("dl",T,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(se(t.blockid),((t,r)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:r},[(0,i.SU)(d.cE)(t)?((0,a.wg)(),(0,a.iD)("div",{key:r,class:(0,s.C_)(["col-span-12",`sm:col-span-${t.span}`])},[995==t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("dt",j,(0,s.zw)(t.fieldlabel),1),(0,a._)("dd",E,[(0,a._)("ul",O,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,i.SU)(n.dG)(t.fieldname),((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t,class:"pl-3 pr-4 py-3 flex items-center justify-between text-sm"},[(0,a._)("div",q,[(0,a.Wm)(c,{class:"flex-shrink-0 h-5 w-5 text-gray-400","aria-hidden":"true"}),(0,a._)("span",Z,(0,s.zw)(e.name),1)]),(0,a._)("div",L,[(0,a._)("a",{href:e.filepath,target:"_blank",class:"font-medium text-primary"}," Download ",8,V)])])))),128))])])],64)):994==t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("dt",K,(0,s.zw)(t.fieldlabel),1),(0,a._)("dd",N,[(0,a.Wm)(u,{disabled:"","show-score":"","text-color":"#ff9900","model-value":(0,i.SU)(n.dG)(t.fieldname)},null,8,["model-value"])])],64)):19==t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[(0,a._)("dt",A,(0,s.zw)(t.fieldlabel),1),(0,a._)("dd",{class:"mt-1 text-sm text-gray-900",innerHTML:(0,i.SU)(n.dG)(t.fieldname)},null,8,R)],64)):999!=t.uitype?((0,a.wg)(),(0,a.iD)(a.HY,{key:3},[(0,a._)("dt",G,(0,s.zw)(t.fieldlabel),1),(0,a._)("div",I,[(0,a.Wm)(o.Z,{"inline-edit":e.inlineEdit,"value-only":e.valueOnly,editable:(1==t.displaytype||2==t.displaytype)&&1==t.masseditable,"button-loading":l.value,uitype:t.uitype,fieldname:t.fieldname,relation:t.relation,value:(0,i.SU)(J)[(0,i.SU)(n.cx)(t.fieldname)],onSaveField:ne},null,8,["inline-edit","value-only","editable","button-loading","uitype","fieldname","relation","value"])])],64)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)],64)))),128))])])])):(0,a.kq)("",!0)])))),128))]))}}});const X=P;var $=X},6382:function(e,t,l){"use strict";l.d(t,{Z:function(){return S}});var a=l(6252),i=l(3577),s=l(2262),n=l(7888);const d={class:"table table-borderless",style:{"margin-bottom":"0.5rem"}},r=(0,a._)("td",{style:{width:"30px","font-size":"11px",padding:"0.2rem","font-weight":"700"}}," From: ",-1),o={style:{"font-size":"11px",padding:"0.2rem"}},c=(0,a._)("td",{style:{width:"30px","font-size":"11px",padding:"0.2rem","font-weight":"700","text-align":"right"}}," To: ",-1),u={style:{"font-size":"11px",padding:"0.2rem"}},m={key:0},p=(0,a._)("td",{style:{width:"30px","font-size":"11px",padding:"0.2rem","font-weight":"700","text-align":"right"}}," Cc: ",-1),v={style:{"font-size":"11px",padding:"0.2rem"}},g=["innerHTML"],y={key:0,class:"py-3 flex items-center justify-between border-t border-gray-200"},f={class:"flex-1 flex justify-between sm:hidden"},x={class:"flex space-x-2"},w=(0,a.Uk)("Reply"),_={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},h={class:"flex space-x-2"},b=(0,a.Uk)("Reply");var k=(0,a.aZ)({__name:"EmailThread",props:{thread:{type:Object,required:!0},replyMode:{type:Boolean,default:!0}},emits:["reply"],setup(e,{emit:t}){const l=e,k=(0,a.Fl)((()=>z(l.thread.data.from_email))),U=(0,a.Fl)((()=>z(l.thread.data.to_email))),S=(0,a.Fl)((()=>z(l.thread.data.cc_email)));function D(){t("reply",l.thread.data.mail_id)}function z(e){let t="",a=1;return e.map((e=>{t+=(""!==e.name?`${e.name} - `:"")+`${e.mail}`+(l.thread.data.from_email.length==a?"":", "),a++})),t}return(t,l)=>{const z=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("table",d,[(0,a._)("tr",null,[r,(0,a._)("td",o,(0,i.zw)((0,s.SU)(k)),1)]),(0,a._)("tr",null,[c,(0,a._)("td",u,(0,i.zw)((0,s.SU)(U)),1)]),(0,s.SU)(S)?((0,a.wg)(),(0,a.iD)("tr",m,[p,(0,a._)("td",v,(0,i.zw)((0,s.SU)(S)),1)])):(0,a.kq)("",!0)]),(0,a._)("div",{class:"w-full bg-white border p-4 rounded-b lg:rounded-b-none lg:rounded-r flex flex-col justify-between leading-normal break-all",style:{"min-height":"400px","max-height":"400px",overflow:"auto"},innerHTML:e.thread.data.html_body},null,8,g),e.replyMode?((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",f,[(0,a._)("div",null,[(0,a.Wm)(n.Z,{attachments:e.thread.data.attachments},null,8,["attachments"])]),(0,a._)("div",x,[(0,a.Wm)(z,{type:"primary",onClick:D},{default:(0,a.w5)((()=>[w])),_:1})])]),(0,a._)("div",_,[(0,a._)("div",null,[(0,a.Wm)(n.Z,{attachments:e.thread.data.attachments},null,8,["attachments"])]),(0,a._)("div",h,[(0,a.Wm)(z,{type:"primary",onClick:D},{default:(0,a.w5)((()=>[b])),_:1})])])])):(0,a.kq)("",!0)],64)}}});const U=k;var S=U},8961:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return ke}});var a=l(6252),i=l(2262),s=l(963),n=l(2202),d=l(3577),r=l(6080);const o={class:"text-2xl font-bold text-gray-900 truncate"},c={class:"text-md font-medium text-gray-500"},u=(0,a.Uk)(" Opened by "),m={class:"font-medium text-gray-900"},p=(0,a.Uk)(" on "),v={class:"font-semibold text-gray-900"},g={class:"text-md font-medium text-gray-500"},y=(0,a.Uk)(" Status: "),f={class:"text-gray-900 font-semibold"},x={class:"text-md font-medium text-gray-500"},w=(0,a.Uk)(" Priority: "),_={class:"text-gray-900 font-semibold"};var h=(0,a.aZ)({__name:"DetailsHeader",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("h1",o,(0,d.zw)((0,i.SU)(s.el)((0,i.SU)(r.oo))),1),(0,a._)("p",c,[u,(0,a._)("span",m,(0,d.zw)((0,i.SU)(s.el)((0,i.SU)(r.sO)))+" ("+(0,d.zw)((0,i.SU)(s.el)((0,i.SU)(r.OT)))+")",1),p,(0,a._)("span",v,(0,d.zw)((0,i.SU)(s.el)("createdtime")),1)]),(0,a._)("p",g,[y,(0,a._)("span",f,(0,d.zw)((0,i.SU)(s.el)((0,i.SU)(r.y9))),1)]),(0,a._)("p",x,[w,(0,a._)("span",_,(0,d.zw)((0,i.SU)(s.el)((0,i.SU)(r.GS))),1)])]))}});const b=h;var k=b,U=l(5953),S=l(6382),D=l(7026),z=l(3617),H=l(3229),Y=l(2201);const M={key:0,"aria-labelledby":"activity-title",class:"mt-8 xl:mt-10"},W={class:"divide-y divide-gray-200"},C=(0,a._)("div",{class:"pb-4"},[(0,a._)("h2",{id:"activity-title",class:"text-lg font-medium text-gray-900"}," Emails ")],-1),F={key:0,class:"truncate"},B={style:{color:"rgb(111, 111, 111)"}},T={key:1,class:"truncate"},j={style:{color:"rgb(111, 111, 111)"}};var E=(0,a.aZ)({__name:"EmailThread",setup(e){const t=(0,i.qj)({data:[],thread_id:null}),l=(0,Y.yj)(),s=(0,a.Fl)((()=>l.params.id));async function n(){await H.S.getEmails(s.value).then((e=>{t.data=e.data,t.thread_id=e.thread_id}))}return(0,a.bv)((()=>{n()})),(e,l)=>{const s=(0,a.up)("el-icon"),n=(0,a.up)("el-collapse-item"),r=(0,a.up)("el-collapse");return t.data.length>0?((0,a.wg)(),(0,a.iD)("section",M,[(0,a._)("div",null,[(0,a._)("div",W,[C,t.data.length>0?((0,a.wg)(),(0,a.j4)(r,{key:0,accordion:"",class:"px-3 border-t"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.data,((e,t)=>((0,a.wg)(),(0,a.j4)(n,{key:t,name:t},{title:(0,a.w5)((()=>["received"==e.delivery?((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,i.SU)(D))])),_:1}),(0,a.Uk)(" "+(0,d.zw)(e.data.from_email[0].name)+" - ",1),(0,a._)("span",B,(0,d.zw)((0,i.SU)(U.p6)(e.data.created_at,"MMM dd, yyyy hh:mm a")),1)])):(0,a.kq)("",!0),"sent"==e.delivery?((0,a.wg)(),(0,a.iD)("div",T,[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,i.SU)(z))])),_:1}),(0,a.Uk)(" "+(0,d.zw)(e.data.from_email[0].name)+" - ",1),(0,a._)("span",j,(0,d.zw)((0,i.SU)(U.p6)(e.data.created_at,"MMM dd, yyyy hh:mm a")),1)])):(0,a.kq)("",!0)])),default:(0,a.w5)((()=>[(0,a.Wm)(S.Z,{thread:e,"reply-mode":!1},null,8,["thread"])])),_:2},1032,["name"])))),128))])),_:1})):(0,a.kq)("",!0)])])])):(0,a.kq)("",!0)}}});const O=E;var q=O,Z=l(7665);const L={"aria-labelledby":"activity-title",class:"mt-8 xl:mt-10"},V={class:"divide-y divide-gray-200"},K=(0,a._)("div",{class:"pb-4"},[(0,a._)("h2",{id:"activity-title",class:"text-lg font-medium text-gray-900"}," Notes ")],-1),N={class:"pt-6"},A={key:0,class:"flow-root"},R={role:"list",class:"-mb-8"},G={class:"relative pb-8"},I={key:0,class:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"},P={class:"relative flex items-start space-x-3"},X={class:"relative px-1"},$={class:"h-8 w-8 bg-gray-100 rounded-full ring-8 ring-white flex items-center justify-center"},J={class:"min-w-0 flex-1"},Q={class:"text-sm"},ee={key:0,class:"font-medium text-gray-900"},te={key:1,class:"font-medium text-gray-900"},le={class:"mt-0.5 text-sm text-gray-500"},ae=["innerHTML"],ie={class:"mt-6"},se={class:"flex space-x-3"},ne={class:"min-w-0 flex-1"},de={action:"#"},re=(0,a._)("label",{for:"comment",class:"sr-only"},"Comment",-1),oe={class:"mt-6 flex items-center justify-end space-x-4"},ce=(0,a.Uk)("Comment");var ue=(0,a.aZ)({__name:"Notes",setup(e){const t=(0,i.qj)({file:[],notes:null,permits_scope:null,emailToTech:!0,private:!1}),l=(0,i.iH)(!1),n=(0,i.iH)([]),o=(0,Y.yj)(),c=(0,a.Fl)((()=>o.params.id)),u=(0,a.Fl)((()=>r.sO?(0,s.el)(r.sO):""));async function m(){await H.S.getNotes(c.value).then((e=>{n.value=e}))}async function p(){t.permits_scope=u.value,l.value=!0,await H.S.addNotes(t,c.value).then((()=>{m(),t.notes=null,l.value=!1}))}return(0,a.bv)((()=>{m()})),(e,s)=>{const r=(0,a.up)("el-input"),o=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("section",L,[(0,a._)("div",null,[(0,a._)("div",V,[K,(0,a._)("div",N,[n.value.length>0?((0,a.wg)(),(0,a.iD)("div",A,[(0,a._)("ul",R,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.value,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},[(0,a._)("div",G,[t!==n.value.length-1?((0,a.wg)(),(0,a.iD)("span",I)):(0,a.kq)("",!0),(0,a._)("div",P,[(0,a._)("div",null,[(0,a._)("div",X,[(0,a._)("div",$,[(0,a.Wm)((0,i.SU)(Z),{class:"h-5 w-5 text-gray-500","aria-hidden":"true"})])])]),(0,a._)("div",J,[(0,a._)("div",null,[(0,a._)("div",Q,[e.permits_scope?((0,a.wg)(),(0,a.iD)("p",ee,(0,d.zw)(e.permits_scope),1)):((0,a.wg)(),(0,a.iD)("p",te,(0,d.zw)(e.whodid),1))]),(0,a._)("p",le,(0,d.zw)((0,i.SU)(U.p6)(e.createdtime)),1)]),(0,a._)("div",{class:"mt-2 text-sm text-gray-700",innerHTML:e.commentcontent},null,8,ae)])])])])))),128))])])):(0,a.kq)("",!0),(0,a._)("div",ie,[(0,a._)("div",se,[(0,a._)("div",ne,[(0,a._)("form",de,[(0,a._)("div",null,[re,(0,a.Wm)(r,{modelValue:t.notes,"onUpdate:modelValue":s[0]||(s[0]=e=>t.notes=e),rows:2,type:"textarea",placeholder:"Leave a note"},null,8,["modelValue"])]),(0,a._)("div",oe,[(0,a.Wm)(o,{loading:l.value,type:"primary",size:"medium",disabled:!t.notes,onClick:p},{default:(0,a.w5)((()=>[ce])),_:1},8,["loading","disabled"])])])])])])])])])])}}});const me=ue;var pe=me,ve=l(8679);const ge={class:"min-h-full pb-20 h-full"},ye={class:"space-y-4 p-0 md:pt-10 md:py-10 2xl:px-8 max-w-[1640px] mx-auto flex flex-col justify-start"},fe={class:"flex flex-col md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"},xe={class:"md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"},we={class:"md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"},_e={class:"md:rounded-lg gap-5 bg-white p-4 md:p-6 lg:p-8"};var he=(0,a.aZ)({__name:"Details",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n.Z,{name:(0,i.SU)(s.dG)("hr_ticket_no"),subName:"Click HR",redirectRoute:"click-hr-list"},null,8,["name"]),(0,a._)("div",ge,[(0,a._)("div",ye,[(0,a._)("div",fe,[(0,a.Wm)(k)]),(0,a._)("div",xe,[(0,a.Wm)(ve.Z,{valueOnly:!0})]),(0,a._)("div",we,[(0,a.Wm)(q)]),(0,a._)("div",_e,[(0,a.Wm)(pe)])])])],64))}});const be=he;var ke=be}}]);